/*_hs_*/;var blockedPercentForAddtlConsent = 0.98;
var numberBetweenZeroAndOne = Math.random();
var isBlockingAddtlConsent = blockedPercentForAddtlConsent > numberBetweenZeroAndOne;
window.sas_blockAddtlConsent = isBlockingAddtlConsent;;/*_hs_*/var sas=window.sas||{};sas.utils=sas.utils||{},sas.events=sas.events||{},sas.cmp=sas.cmp||{},sas.consent=sas.consent||{},sas.debugMode=sas.debugMode||{},sas.debugMode.logsQueue=sas.debugMode.logsQueue||[],sas.debugMode.bannersQueue=sas.debugMode.bannersQueue||[],function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,a=arguments[t];for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}t.b=function(e,t){var n=!0;return S(e,(function(e){return n=n&&t(e)})),n},t.q=function(){y()&&p&&console.info.apply(console,m(arguments,"INFO:"))},t.r=function(){y()&&h&&console.warn.apply(console,m(arguments,"WARNING:"))},t.p=v,t.t=function(e){g=!!e},t.l=y,t.g=b,t.k=w,t.o=I,t.h=_,t.m=function(e){return b(e,o)},t.n=function(e){return b(e,s)},t.i=function(e){return b(e,c)},t.j=function(e){return void 0!==e},t.f=function(e){return(e=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)"))?decodeURIComponent(e[2]):null},t.s=function(e,t,n){document.cookie="".concat(e,"=").concat(encodeURIComponent(t)).concat(""!==n?"; expires=".concat(n):"","; path=/")},t.a=function(e,t,n){var o,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};try{var c=s.method||(n?"POST":"GET");document.createElement("a").href=e;var l,d="object"===i(t)&&null!==t?t:{success:function(){!function(){y()&&u&&console.log.apply(console,m(arguments,"MESSAGE:"))}("xhr success")},error:function(e){v("xhr error",null,e)}};"function"==typeof t&&(d.success=t),(o=new window.XMLHttpRequest).onreadystatechange=function(){var e;o.readyState===C&&(200<=(e=o.status)&&e<300||304===e?d.success(o.responseText,o):d.error(o.statusText,o))},o.ontimeout=function(){v("  xhr timeout after ",o.timeout,"ms")},"GET"===c&&n&&(a((l=function(e,t){var n=document.createElement("a");return t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e),t=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString,{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:t?n.search:function(e){return e?e.replace(/^\?/,"").split("&").reduce((function(e,t){var n=t.split("=");t=2,n=function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var a,i,r=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return r}}(n,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),t=n[0],n=n[1];return/\[\]$/.test(t)?(e[t=t.replace("[]","")]=e[t]||[],e[t].push(n)):e[t]=n||"",e}),{}):{}}(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}}(e,s)).search,n),e=function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(function(e){return Object.keys(e).map((function(t){return Array.isArray(e[t])?e[t].map((function(e){return"".concat(t,"[]=").concat(e)})).join("&"):"".concat(t,"=").concat(e[t])})).join("&")}(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}(l)),o.open(c,e,!0),s.withCredentials&&(o.withCredentials=!0),S(s.customHeaders,(function(e,t){o.setRequestHeader(t,e)})),s.preflight&&o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.setRequestHeader("Content-Type",s.contentType||"text/plain"),"POST"===c&&n?o.send(n):o.send()}catch(e){v("xhr construction",e)}},t.d=function(e,t,n){"loading"!==document.readyState?O(e,t,n):document.addEventListener("DOMContentLoaded",(function(){O(e,t,n)}))},t.c=function(e){for(var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=function(e,t){if(w(Math.imul))return Math.imul(e,t);var n=(4194303&e)*(t|=0);return 4290772992&e&&(n+=(4290772992&e)*t|0),0|n},i=3735928559^n,r=1103547991^n,o=0;o<e.length;o++)i=a(i^(t=e.charCodeAt(o)),2654435761),r=a(r^t,1597334677);return i=a(i^i>>>16,2246822507)^a(r^r>>>13,3266489909),(4294967296*(2097151&(r=a(r^r>>>16,2246822507)^a(i^i>>>13,3266489909)))+(i>>>0)).toString()},t.e=function(e,t,n,a,i){for(t=t.split?t.split("."):t,a=0;a<t.length;a++)e=e?e[t[a]]:i;return e===i?n:e};var o="Number",s="Object",c="Boolean",l=Object.prototype.toString,d="TRUE"===function(e){return null!==(e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search))?decodeURIComponent(e[1].replace(/\+/g," ")):""}("id5_debug").toUpperCase(),u=(t=Boolean(window.console),Boolean(t&&window.console.log)),p=Boolean(t&&window.console.info),h=Boolean(t&&window.console.warn),f=Boolean(t&&window.console.error),g=!1;function v(){y()&&f&&console.error.apply(console,m(arguments,"ERROR:"))}function m(e,t){return e=[].slice.call(e),t&&e.unshift(t),e.unshift("display: inline-block; color: #fff; background: #1c307e; padding: 1px 4px; border-radius: 3px;"),e.unshift("%cID5"),e}function y(){return d||g}function b(e,t){return l.call(e)==="[object "+t+"]"}function w(e){return b(e,"Function")}function I(e){return b(e,"String")}function _(e){return b(e,"Array")}function S(e,t){if(!function(e){if(!e)return 1;if(_(e)||I(e))return!(0<e.length);for(var t in e)if(hasOwnProperty.call(e,t))return;return 1}(e)){if(w(e.forEach))return e.forEach(t,this);var n=0,a=e.length;if(0<a)for(;n<a;n++)t(e[n],n,e);else for(n in e)hasOwnProperty.call(e,n)&&t.call(this,e[n],n)}}var C=4;function O(e,t,n){var a=new Image;a.src=e,w(t)&&t(),w(n)&&(a.complete?n():a.addEventListener("load",n))}},function(e,t){e.exports={STORAGE_CONFIG:{ID5:{name:"id5id",expiresDays:90},LAST:{name:"id5id_last",expiresDays:90},CONSENT_DATA:{name:"id5id_cached_consent_data",expiresDays:30},PD:{name:"id5id_cached_pd",expiresDays:30},PRIVACY:{name:"id5id_privacy",expiresDays:30}},LEGACY_COOKIE_NAMES:["id5.1st","id5id.1st"],PRIVACY:{JURISDICTIONS:{gdpr:!0,ccpa:!1,lgpd:!0,other:!1}},ID5_EIDS_SOURCE:"id5-sync.com"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),i=(t=n(1),n.n(t));function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"localStorageAllowedCallback",void 0),o(this,"localStorage",void 0),this.localStorageAllowedCallback=t,this.localStorage=n}var t,n,s;return t=e,s=[{key:"pdCacheConfig",value:function(e){return{name:"".concat(i.a.STORAGE_CONFIG.PD.name,"_").concat(e),expiresDays:i.a.STORAGE_CONFIG.PD.expiresDays}}},{key:"makeStoredHash",value:function(e){return Object(a.c)("string"==typeof e?e:"")}},{key:"nbCacheConfig",value:function(e){return{name:"".concat(i.a.STORAGE_CONFIG.ID5.name,"_").concat(e,"_nb"),expiresDays:i.a.STORAGE_CONFIG.ID5.expiresDays}}},{key:"storedDataMatchesCurrentData",value:function(e,t){return null==e||e===t}}],(n=[{key:"get",value:function(e){try{if(!0===this.localStorageAllowedCallback())return this.localStorage.getItemWithExpiration(e);Object(a.p)("clientStore.get() has been called without localStorageAllowed")}catch(e){Object(a.p)(e)}}},{key:"clear",value:function(e){try{this.localStorage.removeItemWithExpiration(e)}catch(e){Object(a.p)(e)}}},{key:"put",value:function(e,t){try{!0===this.localStorageAllowedCallback()?this.localStorage.setItemWithExpiration(e,t):Object(a.p)("clientStore.put() has been called without localStorageAllowed")}catch(e){Object(a.p)(e)}}},{key:"localStorageAllowed",value:function(){return this.localStorageAllowedCallback()}},{key:"isLocalStorageAvailable",value:function(){return this.localStorage.isAvailable()}},{key:"getResponseFromLegacyCookie",value:function(){var e;return i.a.LEGACY_COOKIE_NAMES.forEach((function(t){Object(a.f)(t)&&(e=Object(a.f)(t))})),e?JSON.parse(e):null}},{key:"getResponse",value:function(){var e=this.get(i.a.STORAGE_CONFIG.ID5);return e&&JSON.parse(decodeURIComponent(e))}},{key:"clearResponse",value:function(){this.clear(i.a.STORAGE_CONFIG.ID5)}},{key:"putResponse",value:function(e){this.put(i.a.STORAGE_CONFIG.ID5,encodeURIComponent(e))}},{key:"getHashedConsentData",value:function(){return this.get(i.a.STORAGE_CONFIG.CONSENT_DATA)}},{key:"clearHashedConsentData",value:function(){this.clear(i.a.STORAGE_CONFIG.CONSENT_DATA)}},{key:"putHashedConsentData",value:function(e){this.put(i.a.STORAGE_CONFIG.CONSENT_DATA,e.hashCode())}},{key:"getHashedPd",value:function(t){return this.get(e.pdCacheConfig(t))}},{key:"storedPdMatchesPd",value:function(t,n){return e.storedDataMatchesCurrentData(this.getHashedPd(t),e.makeStoredHash(n))}},{key:"clearHashedPd",value:function(t){this.clear(e.pdCacheConfig(t))}},{key:"putHashedPd",value:function(t,n){this.put(e.pdCacheConfig(t),e.makeStoredHash(n))}},{key:"getDateTime",value:function(){return new Date(this.get(i.a.STORAGE_CONFIG.LAST)).getTime()}},{key:"clearDateTime",value:function(){this.clear(i.a.STORAGE_CONFIG.LAST)}},{key:"setDateTime",value:function(e){this.put(i.a.STORAGE_CONFIG.LAST,e)}},{key:"getNb",value:function(t){return(t=this.get(e.nbCacheConfig(t)))?parseInt(t):0}},{key:"clearNb",value:function(t){this.clear(e.nbCacheConfig(t))}},{key:"setNb",value:function(t,n){this.put(e.nbCacheConfig(t),n)}},{key:"incNb",value:function(e,t){return this.setNb(e,++t),t}},{key:"clearAll",value:function(e){this.clearResponse(),this.clearDateTime(),this.clearNb(e),this.clearHashedPd(e),this.clearHashedConsentData()}},{key:"removeLegacyCookies",value:function(e){var t=new Date(Date.now()-1e3).toUTCString();i.a.LEGACY_COOKIE_NAMES.forEach((function(n){Object(a.s)("".concat(n),"",t),Object(a.s)("".concat(n,"_nb"),"",t),Object(a.s)("".concat(n,"_").concat(e,"_nb"),"",t),Object(a.s)("".concat(n,"_last"),"",t),Object(a.s)("".concat(n,".cached_pd"),"",t),Object(a.s)("".concat(n,".cached_consent_data"),"",t)}))}},{key:"storedConsentDataMatchesConsentData",value:function(t){return e.storedDataMatchesCurrentData(this.getHashedConsentData(),t.hashCode())}}])&&r(t.prototype,n),s&&r(t,s),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(0),i=(t=n(1),n.n(t)),r=(n(4),["vendorData","ccpaString"]);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,a=arguments[t];for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={tcfv1:{objName:"__cmpCall",objKeys:["command","parameter"],returnObjName:"__cmpReturn"},tcfv2:{objName:"__tcfapiCall",objKeys:["command","version"],returnObjName:"__tcfapiReturn"},uspv1:{objName:"__uspapiCall",objKeys:["command","version"],returnObjName:"__uspapiReturn"}},p=Object.freeze({NONE:"none",TCF_V1:"TCFv1",TCF_V2:"TCFv2",USP_V1:"USPv1",ID5_ALLOWED_VENDORS:"ID5"}),h=function(){function e(){s(this,e),d(this,"api",p.NONE),d(this,"consentString",void 0),d(this,"gdprApplies",!1),d(this,"vendorData",{}),d(this,"allowedVendors",void 0),d(this,"hasCcpaString",!1),d(this,"ccpaString","")}return l(e,[{key:"canIUseLocalStorage",value:function(){switch(this.api){case p.NONE:return!0;case p.TCF_V1:return!this.gdprApplies||!0===Object(a.e)(this,"vendorData.purposeConsents.1");case p.TCF_V2:return!this.gdprApplies||!0===Object(a.e)(this,"vendorData.purpose.consents.1");case p.ID5_ALLOWED_VENDORS:return this.allowedVendors.includes("131");case p.USP_V1:return!0}}},{key:"hashCode",value:function(){this.vendorData,this.ccpaString;var e=function(e,t){if(null==e)return{};var n,a=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n]);return a}(this,r);return Object(a.c)(JSON.stringify(e))}}]),e}(),f=function(){function e(t){s(this,e),d(this,"consentData",void 0),d(this,"storedPrivacyData",void 0),d(this,"localStorage",void 0),d(this,"_consentRequested",!1),this.localStorage=t,this.resetConsentData()}return l(e,[{key:"requestConsent",value:function(e,t,n,i){if(e)this.consentData=new h,Object(a.r)("cmpApi: ID5 is operating in forced consent mode and will not retrieve any consent signals from the CMP"),i(this.consentData);else if(this._consentRequested)i(this.consentData);else switch(this.consentData=new h,this._consentRequested=!0,t){case"static":this.parseStaticConsentData(n,i);break;case"iab":this.lookupIabConsent(i);break;default:Object(a.p)("cmpApi: Unknown consent API: ".concat(t)),this.resetConsentData(),i(this.consentData)}}},{key:"getOrCreateConsentData",value:function(){return this.consentData||(this.consentData=new h),this.consentData}},{key:"parseStaticConsentData",value:function(t,n){t=t||{};var i={};Object(a.n)(t.getConsentData)?i=e.parseTcfData(t,1):Object(a.n)(t.getTCData)?i=e.parseTcfData(t.getTCData,2):Object(a.h)(t.allowedVendors)?i={api:p.ID5_ALLOWED_VENDORS,allowedVendors:t.allowedVendors.map((function(e){return String(e)})),gdprApplies:!0}:Object(a.n)(t.getUSPData)?i=e.parseUspData(t.getUSPData):Object(a.r)("cmpApi: No static consent data detected! Using defaults."),o(this.consentData,i),Object(a.q)("cmpApi: Detected API '".concat(this.consentData.api,"' from static consent data"),t),n(this.consentData)}},{key:"lookupIabConsent",value:function(e){var t=this,n=[],a=function(a){return n[a]=!1,function(i){n[a]||(n[a]=!0,i&&o(t.consentData,i),n.every((function(e){return e}))&&e(t.consentData))}},i=a(0);a=a(1);this.lookupTcf(i),this.lookupUsp(a)}},{key:"lookupUsp",value:function(t){var n=(i=e.findUsp()).uspapiFrame,i=i.uspapiFunction;if(!n)return Object(a.r)("cmpApi: USP not found! Using defaults for CCPA."),void t();(Object(a.k)(i)?(Object(a.q)("cmpApi: Detected USP is directly accessible, calling it now."),i):(Object(a.q)("cmpApi: Detected USP is outside the current iframe. Using message passing."),e.buildCmpSurrogate("uspv1",n)))("getUSPData",1,(function(n,i){i?t(e.parseUspData(n)):(Object(a.p)("cmpApi: USP callback not succesful. Using defaults for CCPA."),t())}))}},{key:"lookupTcf",value:function(t){var n=(r=e.findTCF()).cmpVersion,i=r.cmpFrame,r=r.cmpFunction;if(!i)return Object(a.r)("cmpApi: TCF not found! Using defaults for GDPR."),void t();Object(a.k)(r)?this.lookupDirectTcf(n,r,t):(Object(a.q)("cmpApi: Detected TCF is outside the current iframe. Using message passing."),this.lookupMessageTcf(n,i,t))}},{key:"lookupMessageTcf",value:function(t,n,a){n=e.buildCmpSurrogate(1===t?"tcfv1":"tcfv2",n),this.lookupDirectTcf(t,n,a)}},{key:"lookupDirectTcf",value:function(t,n,i){function r(e,t,n){Object(a.q)("cmpApi: TCFv".concat(e," - Received a call back: ").concat(t),n)}function o(e,t){Object(a.p)("cmpApi: TCFv".concat(e," - Received insuccess: ").concat(t,". Please check your CMP setup. Using defaults for GDPR."))}var s,c={},l={},d=function(t){return l[t]=!1,function(n,a){l[t]=!0,a?(r(1,t,n),c[t]=n):o(1,t),Object.values(l).every((function(e){return e}))&&i(e.parseTcfData(c,1))}};1===t?(s=d("getConsentData"),d=d("getVendorConsents"),n("getConsentData",null,s),n("getVendorConsents",null,d)):2===t&&n("addEventListener",t,(function(t,n){if(r(2,"event",t),!n)return o(2,"addEventListener"),void i();!t||!1!==t.gdprApplies&&"tcloaded"!==t.eventStatus&&"useractioncomplete"!==t.eventStatus||i(e.parseTcfData(t,2))}))}},{key:"resetConsentData",value:function(){this.consentData=void 0,this.storedPrivacyData=void 0,this._consentRequested=!1}},{key:"isLocalStorageAllowed",value:function(e,t){return!0===e||!0===t?(Object(a.r)("cmpApi: Local storage access granted by configuration override, consent will not be checked"),!0):this.consentData&&this.consentData.api!==p.NONE?this.consentData.canIUseLocalStorage():this.isProvisionalLocalStorageAllowed()}},{key:"isProvisionalLocalStorageAllowed",value:function(){var e;return Object(a.n)(this.storedPrivacyData)||(e=this.localStorage.getItemWithExpiration(i.a.STORAGE_CONFIG.PRIVACY),this.storedPrivacyData=e&&JSON.parse(e)),!(!this.storedPrivacyData||!0!==this.storedPrivacyData.id5_consent)||(this.storedPrivacyData&&void 0!==this.storedPrivacyData.jurisdiction?!1===(void 0!==i.a.PRIVACY.JURISDICTIONS[this.storedPrivacyData.jurisdiction]&&i.a.PRIVACY.JURISDICTIONS[this.storedPrivacyData.jurisdiction])||!0===this.storedPrivacyData.id5_consent:void 0)}},{key:"setStoredPrivacy",value:function(e){try{Object(a.n)(e)?(this.storedPrivacyData=e,this.localStorage.setItemWithExpiration(i.a.STORAGE_CONFIG.PRIVACY,JSON.stringify(e))):Object(a.q)("cmpApi: Cannot store privacy if it is not an object: ",e)}catch(e){Object(a.p)(e)}}}],[{key:"buildCmpSurrogate",value:function(e,t){return function(n,i,r){var o=Math.random()+"",s=u[e],c={},l={};l[s.objKeys[0]]=n,l[s.objKeys[1]]=i,l.callId=o,c[s.objName]=l,l=function e(t){(t=Object(a.e)(t,"data.".concat(s.returnObjName)))&&t.callId===o&&(window.removeEventListener("message",e),r(t.returnValue,t.success))},window.addEventListener("message",l,!1),t.postMessage(c,"*")}}},{key:"parseUspData",value:function(e){if(Object(a.n)(e)&&Object(a.o)(e.uspString))return{api:p.USP_V1,hasCcpaString:!0,ccpaString:e.uspString};Object(a.p)("cmpApi: No or malformed USP data. Using defaults for CCPA.")}},{key:"parseTcfData",value:function(t,n){var i,r;if(1===n)i=e.isValidV1ConsentObject,r=e.normalizeV1Data;else{if(2!==n)return void Object(a.p)("cmpApi: No or malformed CMP data. Using defaults for GDPR.");i=e.isValidV2ConsentObject,r=e.normalizeV2Data}if(i(t))return r(t);Object(a.p)("cmpApi: Invalid CMP data. Using defaults for GDPR.",t)}},{key:"isValidV1ConsentObject",value:function(e){var t=Object(a.e)(e,"getConsentData.gdprApplies");return!!Object(a.i)(t)&&(!1===t||Object(a.o)(e.getConsentData.consentData)&&Object(a.n)(e.getVendorConsents)&&1<Object.keys(e.getVendorConsents).length)}},{key:"isValidV2ConsentObject",value:function(e){var t=e&&e.gdprApplies;e=e&&e.tcString;return!!Object(a.i)(t)&&(!1===t||Object(a.o)(e))}},{key:"normalizeV1Data",value:function(e){return{consentString:e.getConsentData.consentData,vendorData:e.getVendorConsents,gdprApplies:e.getConsentData.gdprApplies,api:p.TCF_V1}}},{key:"normalizeV2Data",value:function(e){return{consentString:e.tcString,vendorData:e,gdprApplies:e.gdprApplies,api:p.TCF_V2}}},{key:"findTCF",value:function(){for(var e,t,n=0,a=window;!e;){try{if("function"==typeof a.__tcfapi||"function"==typeof a.__cmp){t="function"==typeof a.__tcfapi?(n=2,a.__tcfapi):(n=1,a.__cmp),e=a;break}}catch(e){}try{if(a.frames.__tcfapiLocator){n=2,e=a;break}}catch(e){}try{if(a.frames.__cmpLocator){n=1,e=a;break}}catch(e){}if(a===window.top)break;a=a.parent}return{cmpVersion:n,cmpFrame:e,cmpFunction:t}}},{key:"findUsp",value:function(){for(var e,t,n=window;!e;){try{if("function"==typeof n.__uspapi){t=n.__uspapi,e=n;break}}catch(e){}try{if(n.frames.__uspapiLocator){e=n;break}}catch(e){}if(n===window.top)break;n=n.parent}return{uspapiFrame:e,uspapiFunction:t}}}]),e}()},function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return o}));var r="_exp",o=function(){function e(t){var n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"available",!1),i(this,"win",void 0),i(this,"writingEnabled",void 0),this.win=t,this.writingEnabled=n,n="__id5test";try{this.writingEnabled&&this.win.localStorage.setItem(n,n),this.win.localStorage.removeItem(n),this.available=!0}catch(t){}}var t,n;return t=e,(n=[{key:"isAvailable",value:function(){return this.available}},{key:"getItem",value:function(e){if(this.available)return this.win.localStorage.getItem(e)}},{key:"setItem",value:function(e,t){this.available&&this.writingEnabled&&this.win.localStorage.setItem(e,t)}},{key:"removeItem",value:function(e){this.available&&this.win.localStorage.removeItem(e)}},{key:"getItemWithExpiration",value:function(e){var t=e.name;return!(e=this.getItem(t+r))||new Date(e).getTime()-Date.now()<=0?(this.removeItemWithExpiration({name:t}),null):this.getItem(t)}},{key:"setItemWithExpiration",value:function(e,t){var n=e.name;e=e.expiresDays,e=Date.now()+864e5*e,e=new Date(e).toUTCString();this.setItem(n+r,e),this.setItem(n,t)}},{key:"removeItemWithExpiration",value:function(e){e=e.name,this.removeItem(e),this.removeItem(e+r)}}])&&a(t.prototype,n),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0);function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"options",void 0),r(this,"providedOptions",void 0),r(this,"invalidSegments",void 0),this.options={debugBypassConsent:!1,allowLocalStorageWithoutConsentApi:!1,cmpApi:"iab",consentData:{getConsentData:{consentData:void 0,gdprApplies:void 0},getVendorConsents:{}},refreshInSeconds:7200,partnerId:void 0,partnerUserId:void 0,callbackOnAvailable:void 0,callbackOnUpdates:void 0,callbackTimeoutInMs:void 0,pd:void 0,abTesting:{enabled:!1,controlGroupPct:0},provider:void 0,maxCascades:8,applyCreativeRestrictions:!1,segments:void 0},this.providedOptions={},!t.partnerId||"number"!=typeof t.partnerId)throw new Error("partnerId is required and must be a number");this.invalidSegments=0,this.updOptions(t)}var t,n;return t=e,(n=[{key:"getOptions",value:function(){return this.options}},{key:"getProvidedOptions",value:function(){return this.providedOptions}},{key:"getInvalidSegments",value:function(){return this.invalidSegments}},{key:"updOptions",value:function(t){var n=this,i=this;if(Object(a.n)(t)){if(Object(a.m)(this.options.partnerId)&&Object(a.m)(t.partnerId)&&t.partnerId!==this.options.partnerId)throw new Error("Cannot update config with a different partnerId");var r=function(e,t){n.options[e]=t,n.providedOptions[e]=t};Object.keys(t).forEach((function(n){var o,c,l;"segments"===n?(l=t[n],o=[],Object(a.h)(l)?(l.forEach((function(e,t){return t="segments[".concat(t,"]"),Object(a.h)(e.ids)&&Object(a.b)(e.ids,a.o)?e.ids.length<1?(Object(a.p)("Config option ".concat(t,".ids should contain at least one segment ID")),void(i.invalidSegments+=1)):Object(a.o)(e.destination)?void o.push(e):(s("".concat(t,".destination"),"String",e.destination),void(i.invalidSegments+=1)):(s("".concat(t,".ids"),"Array of String",e.ids),void(i.invalidSegments+=1))})),r(n,o)):s(n,"Array",l)):(c=e.configTypes[n],l=t[n],Object(a.g)(l,c)?r(n,l):s(n,c,l))}))}else Object(a.p)("Config options must be an object")}}])&&i(t.prototype,n),e}();function s(e,t,n){Object(a.p)("Config option ".concat(e," must be of type ").concat(t," but was ").concat(toString.call(n),". Ignoring..."))}r(o,"configTypes",{debugBypassConsent:"Boolean",allowLocalStorageWithoutConsentApi:"Boolean",cmpApi:"String",consentData:"Object",refreshInSeconds:"Number",partnerId:"Number",partnerUserId:"String",callbackOnAvailable:"Function",callbackOnUpdates:"Function",callbackTimeoutInMs:"Number",pd:"String",abTesting:"Object",provider:"String",maxCascades:"Number",applyCreativeRestrictions:"Boolean"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=n(7),window.ID5||(window.ID5=n.a)},function(e,t,n){"use strict";var a=n(0),i=n(8),r=n(2),o=n(3),s=n(9),c=n(10),l=n(4),d=n(5);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var a,i,r=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function h(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"loaded",!1),f(this,"_isUsingCdn",!1),f(this,"_referer",!1),f(this,"_version",c.a),f(this,"versions",{}),this.loaded=!0,this._isUsingCdn=!!(document&&document.currentScript&&document.currentScript.src&&0===document.currentScript.src.indexOf("https://cdn.id5-sync.com")),this._referer=Object(i.a)(),this.versions[c.a]=!0}var t,n;return t=e,(n=[{key:"debug",get:function(){return Object(a.l)()},set:function(e){Object(a.t)(e)}},{key:"init",value:function(e){try{Object(a.q)("Invoking Id5Api.init",arguments);var t=new d.a(e),n=t.getOptions(),i=new l.a(window.top,!n.applyCreativeRestrictions),c=new o.a(i),u=new r.a((function(){return c.isLocalStorageAllowed(n.allowLocalStorageWithoutConsentApi,n.debugBypassConsent)}),i),p=new s.a(t,u,c);return this.getId(p,!1),Object(a.q)("ID5 initialized for partner ".concat(n.partnerId," with referer ").concat(this._referer.referer," and options"),e),p}catch(e){Object(a.p)("Exception caught from Id5Api.init",e)}}},{key:"refreshId",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!Object(a.i)(t))throw new Error("Invalid signature for Id5Api.refreshId: second parameter must be a boolean");try{Object(a.q)("Invoking Id5Api.refreshId",arguments),e.startRefresh(t),e.updateOptions(n),e.consentManagement.resetConsentData(),this.getId(e,t)}catch(e){Object(a.p)("Exception caught from Id5Api.refreshId",e)}return e}},{key:"getId",value:function(e){var t,n,i=this,r=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=e.getOptions(),s=0,c=!1,l=!1,d=!1;e.localStorageAllowed()&&(t=e.clientStore.getResponse(),n=e.clientStore.getDateTime(),c=n<=0||Date.now()-n>1e3*o.refreshInSeconds,s=e.clientStore.getNb(o.partnerId),l=!e.clientStore.storedPdMatchesPd(o.partnerId,o.pd)),t||(t=e.clientStore.getResponseFromLegacyCookie(),c=!0),t&&t.universal_uid&&!l?(e.setUserId(t,!0),s=e.clientStore.incNb(o.partnerId,s),d=!0,Object(a.q)("ID5 User ID available from cache:",{storedResponse:t,storedDateTime:n,refreshNeeded:c})):t&&t.universal_uid&&l?Object(a.q)("PD value has changed, so ignoring User ID from cache"):t&&!t.universal_uid?Object(a.p)("Invalid stored response: ",t):Object(a.q)("No ID5 User ID available from cache"),e.consentManagement.requestConsent(o.debugBypassConsent,o.cmpApi,o.consentData,(function(n){var p,h,f,g,v;!1!==e.localStorageAllowed()?(Object(a.q)("Consent to access local storage is: "+e.localStorageAllowed()),t=e.clientStore.getResponse()||e.clientStore.getResponseFromLegacyCookie(),v=!e.clientStore.storedConsentDataMatchesConsentData(n),e.clientStore.putHashedConsentData(n),e.clientStore.putHashedPd(o.partnerId,o.pd),t&&t.universal_uid&&t.signature&&!c&&!v&&!l&&!r||(p="https://id5-sync.com/g/v2/".concat(o.partnerId,".json"),h=n.gdprApplies?1:0,f={partner:o.partnerId,v:i._version,o:"api",gdpr:h,rf:i._referer.referer,u:i._referer.stack[0]||window.location.href,top:i._referer.reachedTop?1:0,localStorage:e.clientStore.isLocalStorageAvailable()?1:0,nbPage:s,id5cdn:i._isUsingCdn},g=n.gdprApplies?n.consentString:void 0,Object(a.j)(g)&&(f.gdpr_consent=g),Object(a.j)(n.allowedVendors)&&(f.allowed_vendors=n.allowedVendors),v=t&&t.signature?t.signature:void 0,Object(a.j)(v)&&(f.s=v),n.hasCcpaString&&(f.us_privacy=n.ccpaString),Object.entries({pd:"pd",partnerUserId:"puid",provider:"provider",segments:"segments"}).forEach((function(e){e=(t=u(e,2))[0];var t=t[1];Object(a.j)(o[e])&&(f[t]=o[e])})),!0===o.abTesting.enabled&&(f.ab_testing={enabled:!0,control_group_pct:e.getOptions().abTesting.controlGroupPct}),0<e.getInvalidSegments()&&(f._invalid_segments=e.getInvalidSegments()),Object(a.q)("Fetching ID5 user ID from:",p,f),r&&Object(a.q)("...with Force Fetch"),Object(a.a)(p,{success:function(t){if(Object(a.q)("Response from ID5 received:",t),t)try{var n,i,r=JSON.parse(t);Object(a.q)("Valid json response from ID5 received:",r),Object(a.o)(r.universal_uid)?(e.setUserId(r,!1),e.consentManagement.setStoredPrivacy(r.privacy),!0!==e.localStorageAllowed()&&Object(a.j)(r.privacy)?e.clientStore.clearAll(o.partnerId):(e.clientStore.putResponse(t),e.clientStore.setDateTime((new Date).toUTCString()),e.clientStore.setNb(o.partnerId,d?0:1)),e.clientStore.removeLegacyCookies(o.partnerId),!0===r.cascade_needed&&!0===e.localStorageAllowed()&&0<=o.maxCascades&&!o.applyCreativeRestrictions&&(n=o.partnerUserId&&0<o.partnerUserId.length,i="https://id5-sync.com/".concat(n?"s":"i","/").concat(o.partnerId,"/").concat(o.maxCascades,".gif?id5id=").concat(e._userId,"&o=api&").concat(n?"puid="+o.partnerUserId+"&":"","gdpr_consent=").concat(g,"&gdpr=").concat(h),Object(a.q)("Opportunities to cascade available:",i),Object(a.d)(i))):Object(a.p)("Invalid response from ID5 servers:",t)}catch(t){Object(a.p)(t)}else Object(a.p)("Empty response from ID5 servers:",t)},error:function(e){Object(a.p)(e)}},JSON.stringify(f),{method:"POST",withCredentials:!0}))):Object(a.q)("No legal basis to use ID5",n)}))}}])&&h(t.prototype,n),e}()),t.a=n},function(e,t,n){"use strict";function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,a=arguments[t];for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}));var i,r=(i=window,function(){try{var e,t=o(),n=t.length-1,a=null!==t[n].location||0<n&&null!==t[n-1].referrer,i=function(e){for(var t,n=[],a=null,i=null,r=null,o=null,s=e.length-1;0<=s;s--){try{a=e[s].location}catch(e){}if(a)n.push(a),o=o||a;else if(0!==s){t=e[s-1];try{i=t.referrer,r=t.ancestor}catch(e){}i?(n.push(i),o=o||i):r?(n.push(r),o=o||r):n.push(null)}else n.push(null)}return{stack:n,detectedRefererUrl:o}}(t);return t[t.length-1].canonicalUrl&&(e=t[t.length-1].canonicalUrl),{referer:i.detectedRefererUrl,reachedTop:a,numIframes:n,stack:i.stack,canonicalUrl:e}}catch(e){}});function o(){var e=function(){var e,t=[];do{try{e=e?e.parent:i;try{var n=e===i.top,r={referrer:e.document.referrer||null,location:e.location.href||null,isTop:n};n&&(r=a(r,{canonicalUrl:function(e){try{var t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}(e.document)})),t.push(r)}catch(n){t.push({referrer:null,location:null,isTop:e===i.top})}}catch(n){return t.push({referrer:null,location:null,isTop:!1}),t}}while(e!==i.top);return t}(),t=function(){try{return i.location.ancestorOrigins?i.location.ancestorOrigins:void 0}catch(e){}}();if(t)for(var n=0,r=t.length;n<r;n++)e[n].ancestor=t[n];return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));t=n(1);var a=n.n(t),i=n(0);function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(5),n(2),n(3);var s=function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"_availableCallbackTimerId",void 0),o(this,"_availableCallbackFired",!1),o(this,"_availableCallback",void 0),o(this,"_updateCallback",void 0),o(this,"_refreshCallbackTimerId",void 0),o(this,"_refreshCallbackFired",!1),o(this,"_refreshCallback",void 0),o(this,"_isExposed",void 0),o(this,"_fromCache",void 0),o(this,"_isRefreshing",!1),o(this,"_isRefreshingWithFetch",!1),o(this,"_userId",void 0),o(this,"_linkType",void 0),o(this,"_userIdAvailable",!1),o(this,"config",void 0),o(this,"clientStore",void 0),o(this,"consentManagement",void 0),this.config=t,this.clientStore=n,this.consentManagement=a}var t,n,s;return t=e,s=[{key:"doFireOnAvailableCallBack",value:function(e){i.q("Id5Status.doFireOnAvailableCallBack"),e._availableCallbackFired=!0,e._availableCallbackTimerId=void 0,e._availableCallback(e)}},{key:"doFireOnUpdateCallBack",value:function(e){i.q("Id5Status.doFireOnUpdateCallBack"),e._updateCallback(e)}},{key:"doFireOnRefreshCallBack",value:function(e){i.q("Id5Status.doFireOnRefreshCallBack"),e._refreshCallbackFired=!0,e._refreshCallbackTimerId=void 0,e._isRefreshing=!1,e._isRefreshingWithFetch=!1,e._refreshCallback(e)}}],(n=[{key:"getOptions",value:function(){return this.config.getOptions()}},{key:"getInvalidSegments",value:function(){return this.config.getInvalidSegments()}},{key:"updateOptions",value:function(e){return this.config.updOptions(e)}},{key:"startRefresh",value:function(e){this._isRefreshing=!0,this._isRefreshingWithFetch=e}},{key:"setUserId",value:function(t,n){var a=this,r=t.universal_uid,o=t.link_type||0;if(this._isExposed=!0,i.n(t.ab_testing))switch(t.ab_testing.result){case"normal":break;default:case"error":i.p("There was an error with A/B Testing. Make sure controlGroupRatio is a number >= 0 and <= 1");break;case"control":this._isExposed=!1,i.q("User is in control group!")}t=this._userId!==r||this._linkType!==o,this._userIdAvailable=!0,this._userId=r,this._linkType=o,this._fromCache=n,i.q("Id5Status.setUserId: user id updated, hasChanged: ".concat(t)),i.k(this._availableCallback)&&!1===this._availableCallbackFired&&(this._availableCallbackTimerId&&(i.q("Cancelling pending onAvailableCallback watchdog"),clearTimeout(this._availableCallbackTimerId),this._availableCallbackTimerId=void 0),this._availableCallbackTimerId=setTimeout((function(){return e.doFireOnAvailableCallBack(a)}),0)),this._isRefreshing&&i.k(this._refreshCallback)&&!1===this._refreshCallbackFired&&(!1!==n&&!1!==this._isRefreshingWithFetch||(this._refreshCallbackTimerId&&(i.q("Cancelling pending onRefreshCallback watchdog"),clearTimeout(this._refreshCallbackTimerId),this._refreshCallbackTimerId=void 0),this._refreshCallbackTimerId=setTimeout((function(){return e.doFireOnRefreshCallBack(a)}),0))),t&&i.k(this._updateCallback)&&setTimeout((function(){return e.doFireOnUpdateCallBack(a)}),0)}},{key:"getUserId",value:function(){return!1===this._isExposed?"0":this._userId}},{key:"getLinkType",value:function(){return!1===this._isExposed?0:this._linkType}},{key:"isFromCache",value:function(){return this._fromCache}},{key:"exposeUserId",value:function(){return this._isExposed}},{key:"getUserIdAsEid",value:function(){return{source:a.a.ID5_EIDS_SOURCE,uids:[{id:this.getUserId(),ext:{linkType:this.getLinkType(),abTestingControlGroup:!this.exposeUserId()}}]}}},{key:"onAvailable",value:function(t,n){if(!i.k(t))throw new Error("onAvailable expect a function");var a;return i.k(this._availableCallback)?i.q("onAvailable was already called, ignoring"):(this._availableCallback=t,(a=this)._userIdAvailable?(i.q("Id5Status.onAvailable: User id already available firing callback immediately"),this._availableCallbackTimerId=setTimeout((function(){return e.doFireOnAvailableCallBack(a)}),0)):0<n&&(this._availableCallbackTimerId=setTimeout((function(){return e.doFireOnAvailableCallBack(a)}),n))),this}},{key:"onUpdate",value:function(t){if(!i.k(t))throw new Error("onUpdate expect a function");this._updateCallback=t;var n=this;return this._userIdAvailable&&setTimeout((function(){return e.doFireOnUpdateCallBack(n)}),0),this}},{key:"onRefresh",value:function(t,n){if(!i.k(t))throw new Error("onRefresh expect a function");this._refreshCallbackTimerId&&(clearTimeout(this._refreshCallbackTimerId),this._refreshCallbackTimerId=void 0),this._refreshCallback=t;var a=this;return!0===this._isRefreshing&&!1===this._isRefreshingWithFetch&&this._userIdAvailable?this._refreshCallbackTimerId=setTimeout((function(){return e.doFireOnRefreshCallBack(a)}),0):0<n&&(this._refreshCallbackTimerId=setTimeout((function(){return e.doFireOnRefreshCallBack(a)}),n)),this}},{key:"localStorageAllowed",value:function(){return this.clientStore.localStorageAllowed()}}])&&r(t.prototype,n),s&&r(t,s),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a="1.0.12"}]),function(){var e=window.sas;Date.now||(Date.now=function(){return(new Date).getTime()}),e.utils.extend=function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];if(a&&"object"==typeof a)for(var i in a)void 0!==a[i]&&(Array.isArray(a[i])?t[i]=a[i]:"object"==typeof a[i]?t[i]=e.utils.extend({},t[i],a[i]):t[i]=a[i])}return t},e.utils.Latch=function(e){for(var t=[],n={},a=e=e||[],i=!1,r=0;r<a.length;r++)n[e[r]]={};var o=function(){if(!i){for(var e in n)if(!n[e].status)return;i=!0;for(var a=s(),r=0;r<t.length;r++)t[r].apply(this,a)}},s=function(){for(var e=[],t=0;t<a.length;t++)e.push(n[a[t]].result);return e};this.isComplete=function(){return i},this.notify=function(e,t){n[e]&&(n[e].status=!0,n[e].result=t,o())},this.addListener=function(e){null!=e&&(i?e():t.push(e))},o()},e.utils.getIEVersion=function(){var e=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/);return e?parseInt(e[1]):void 0},e.utils.parseCookies=function(e){for(var t={},n=e.split("; "),a=0;a<n.length;a++){var i=n[a],r=i.indexOf("="),o=i.substring(0,r),s=i.substring(r+1);t[o]=s}return t},e.utils.setCookie=function(e,t,n,a){var i=new Date;i.setTime(i.getTime()+24*a*60*60*1e3);var r="expires="+i.toUTCString();e.cookie=t+"="+n+";"+r+";path=/"};var t=null;e.utils.checkIfLocalStorageAvailable=function(){if(null==t)try{"undefined"!=typeof localStorage?(localStorage.setItem("smartadserver_feature_test","1"),"1"===localStorage.getItem("smartadserver_feature_test")?(localStorage.removeItem("smartadserver_feature_test"),t=!0):t=!1):t=!1}catch(e){t=!1}return t},e.utils.getLocalStorageItemSafely=function(t){return e.utils.checkIfLocalStorageAvailable()?window.localStorage.getItem(t):null},e.utils.setLocalStorageItemSafely=function(t,n){return!!e.utils.checkIfLocalStorageAvailable()&&(window.localStorage.setItem(t,n),!0)},e.utils.isAddtlConsentBlocked=function(){return void 0!==window.sas_blockAddtlConsent&&!!window.sas_blockAddtlConsent},e.events.addEvent=function(e,t,n){if(e&&t&&n)return e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener&&e.addEventListener(t,n,!1),{removeEvent:function(){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener&&e.removeEventListener(t,n,!1)}}},e.events.addLoadEvent=function(t,n){if(t&&n){var a="load",i=function(){return!0};(e.utils.getIEVersion()<11||t==document)&&(a="readystatechange",i=function(){if(!t.readyState||"complete"==t.readyState||"loaded"==t.readyState)return!0});var r=e.events.addEvent(t,a,(function(){i()&&(r.removeEvent(),n.apply(this,arguments))}))}},e.events.addMessageEvent=function(t,n){t&&n&&e.events.addEvent(t,"message",(function(){n.apply(this,arguments)}))},e.events._events=e.events._events||{},e.events._history=e.events._history||[],e.events.on=function(t,n,a){e.events._events[t]=e.events._events[t]||{que:[]};var i=e.events._events[t];a&&(i=i[a]=i[a]||{que:[]}),i.que.push(n)},e.events.fire=function(t,n,a){e.events._history.push({eventName:t,data:e.utils.extend({timestamp:Date.now()},n),id:a});var i=e.events._events[t];if(i){var r;if(a&&i[a])for(r=0;r<i[a].que.length;r++)i[a].que[r](e.utils.extend({},n),a);for(r=0;r<i.que.length;r++)i.que[r](e.utils.extend({},n),a)}},e.events.off=function(t,n,a){var i=e.events._events[t];if(i){var r=i.que;if(a&&(r=i[a].que),r){var o=r.indexOf(n);o>=0&&r.splice(o,1)}}},e.events.history=function(t){for(var n=[],a=0;a<e.events._history.length;a++){var i=e.events._history[a];t&&i.eventName!=t||n.push(e.utils.extend({},i))}return n}}(),(()=>{"use strict";var e={17:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ELogLevel=t.DATA_DOG_URL_PARAMS=t.DATA_DOG_URL_DOMAIN=t.DATA_DOG_DEFAULT_CLIENT_TOKEN=void 0,t.DATA_DOG_DEFAULT_CLIENT_TOKEN="pub4dc0b42521d789dc92f11b797f836ecf",t.DATA_DOG_URL_DOMAIN="https://browser-http-intake.logs.datadoghq.eu/v1/input/",t.DATA_DOG_URL_PARAMS="?ddsource=smartWebLogger&ddtags=version:0.0.1-9110cbe5d7073cc35538d4f4cd5a191e3869117f",function(e){e.Debug="debug",e.Info="info",e.Warning="warning",e.Error="error"}(t.ELogLevel||(t.ELogLevel={}))},366:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CONFIGURATION=void 0;var a=n(17);t.DEFAULT_CONFIGURATION={clientToken:a.DATA_DOG_DEFAULT_CLIENT_TOKEN,source:"video",tags:"video",service:"video",host:"FRONT-DDLOG-HOST",endpoint:"videoPlugin",minLogLevel:"error",version:"0.0.1",samplingRate:{debug:1e4,info:1e3,warning:100,error:100}}},133:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DataDogLogger=void 0;var a=n(17),i=function(){function e(e){this.url=a.DATA_DOG_URL_DOMAIN+e+a.DATA_DOG_URL_PARAMS}return e.prototype.log=function(e){var t={headers:{"content-type":"text/plain;charset=UTF-8"},body:JSON.stringify(e),method:"POST"};fetch(this.url,t).then((function(e){e.ok&&console.log("WebTechnicalLogger data were logged successfully")})).catch((function(e){return console.log("WebTechnicalLogger Fetch error ",e)}))},e}();t.DataDogLogger=i},19:function(e,t,n){var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.WebTechnicalLogger=void 0;var i=n(800),r=n(366),o=n(133),s=n(17),c=function(){function e(e){void 0===e&&(e=null),this.configuration=this.prepareConfiguration(r.DEFAULT_CONFIGURATION,e),this.loggerManager=new i.LoggerManager(this.configuration.samplingRate),this.dataDogLogger=new o.DataDogLogger(this.configuration.clientToken)}return e.prototype.log=function(e,t,n,a){var i=this.loggerManager.getLog(e,n);if(i){var r={log:i,endpoint:this.configuration.endpoint,Properties:{DatadogIngestWeight:this.configuration.samplingRate[e]},type:t,severity:e,service:this.configuration.service,source:this.configuration.source,host:this.configuration.host,version:this.configuration.version};if(a)for(var o in a)r[o]=a[o];this.dataDogLogger.log(r)}},e.prototype.updateConfiguration=function(e){e?(this.configuration=this.prepareConfiguration(this.configuration,e),this.loggerManager.updateSamplingRate(this.configuration.samplingRate)):console.warn("Web Technical Logger new configuration is not updated")},e.prototype.prepareConfiguration=function(e,t){var n=this.mergeConfiguration(e,t);return Object.values(s.ELogLevel).includes(n.minLogLevel)||(n.minLogLevel=s.ELogLevel.Error),n},e.prototype.mergeConfiguration=function(e,t){var n=this;return null===t?e:a(a({},e),Object.keys(e).reduce((function(a,i){return null!==t[i]&&void 0!==t[i]&&(t[i]instanceof Object?a[i]=n.mergeConfiguration(e[i],t[i]):a[i]=t[i]),a}),{}))},e}();t.WebTechnicalLogger=c},800:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerManager=void 0;var a=n(17),i=n(900),r=n(35),o=n(536),s=n(837),c=n(46),l=n(696),d=function(){function e(e){this.updateSamplingRate(e)}return e.prototype.getLog=function(e,t){var n=!1;switch(e){case a.ELogLevel.Debug:null!==this.getErrorExcludedLog(t)&&this.toLog(this.sampling.debug)?n=this.getErrorExcludedLog(t):console.warn("Web Technical Logger, debugLog: the log cannot be logged because of sampling");break;case a.ELogLevel.Error:null!==this.getErrorLog(t)&&this.toLog(this.sampling.error)?n=this.getErrorLog(t):console.warn("Web Technical Logger, errorLog: the log cannot be logged because of sampling");break;case a.ELogLevel.Info:null!==this.getErrorExcludedLog(t)&&this.toLog(this.sampling.info)&&(n=this.getErrorExcludedLog(t));break;case a.ELogLevel.Warning:null!==this.getErrorExcludedLog(t)&&this.toLog(this.sampling.warning)?n=this.getErrorExcludedLog(t):console.warn("Web Technical Logger, warningLog: the log cannot be logged because of sampling");break;default:console.error("Web Technical Logger: we do not suport log level:",e)}return n},e.prototype.updateSamplingRate=function(e){this.sampling=e},e.prototype.toLog=function(e){return!((Math.floor(Math.random()*e)+1)%e)},e.prototype.getErrorLog=function(e){var t=(new i.ErrorNode).getNodeResponse(e.error),n=(new r.SmartNode).getNodeResponse(e.smart),a=null;return null!==t&&null!==n?a={error:t,smart:n}:console.error("Web Technical Logger: error node is not defined"),a},e.prototype.getErrorExcludedLog=function(e){var t={},n=(new o.MediaNode).getNodeResponse(e.media),a=(new r.SmartNode).getNodeResponse(e.smart),i=(new s.ViewabilityNode).getNodeResponse(e.viewability),d=(new c.BiddingNode).getNodeResponse(e.bidding),u=(new l.MeasureNode).getNodeResponse(e.measure);return null===n&&null===a&&null===i&&null===d&&null===u?t=null:(t.media=n,t.smart=a,t.viewability=i,t.bidding=d,t.measure=u),t},e}();t.LoggerManager=d},46:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BiddingNode=void 0;var n=function(){function e(){this.amount=null,this.currency=null}return e.prototype.getNodeResponse=function(e){return null==e?null:{amount:e.amount?e.amount:this.amount,currency:e.currency?e.currency:this.currency}},e}();t.BiddingNode=n},900:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorNode=void 0;var n=function(){function e(){this.adResponse=null,this.errorCode=null,this.errorDetailed=null,this.message=null}return e.prototype.getNodeResponse=function(e){var t=null;return null==e||(void 0===e.errorCode||null===e.errorCode?console.error("Web Technical Logger ErrorNode preparation: errorCode must be defined"):t={adResponse:e.adResponse?JSON.stringify(e.adResponse):this.adResponse,errorCode:e.errorCode,errorDetailed:e.errorDetailed?e.errorDetailed:this.errorDetailed,message:e.message?e.message:this.message}),t},e}();t.ErrorNode=n},696:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MeasureNode=void 0;var n=function(){function e(){}return e.prototype.getNodeResponse=function(e){return null==e?null:{durationBeforeRender:e.durationBeforeRender,durationAd:e.durationAd,durationLoad:e.durationLoad,durationRender:e.durationRender,durationNoAd:e.durationNoAd,durationRequest:e.durationRequest,responseType:e.responseType}},e}();t.MeasureNode=n},536:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MediaNode=void 0;var n=function(){function e(){this.type=1,this.container=1,this.url=null,this.bitrate=-1,this.width=-1,this.height=-1,this.duration=-1}return e.prototype.getNodeResponse=function(e){return null==e?null:{type:void 0!==e.type?e.type:this.type,container:e.container?e.container:this.container,url:e.url?e.url:this.url,bitrate:e.bitrate?e.bitrate:this.bitrate,width:e.width?e.width:this.width,height:e.height?e.height:this.height,duration:e.duration?e.duration:this.duration}},e}();t.MediaNode=n},35:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SmartNode=void 0;var n=function(){function e(){this.siteId=null,this.pageId=null,this.pageName=null,this.formatId=null,this.target=null,this.expectedFormatType=-1,this.channelType=-1,this.templateFormatType=-1,this.insertionId=null,this.rtb=null}return e.prototype.getNodeResponse=function(e){var t=null;return null==e||(e.formatId&&(e.pageId||e.pageName)?t={siteId:e.siteId,pageId:e.pageId?e.pageId:this.siteId,pageName:e.pageName?e.pageName:this.pageName,formatId:e.formatId,target:e.target?e.target:this.target,expectedFormatType:e.expectedFormatType?e.expectedFormatType:this.expectedFormatType,channelType:e.channelType?e.channelType:this.channelType,templateFormatType:e.templateFormatType?e.templateFormatType:this.templateFormatType,insertionId:e.insertionId?e.insertionId:this.insertionId,rtb:e.rtb?JSON.stringify(e.rtb):this.rtb}:console.error("Web Technical Logger SmartNode preparation: formatId and pageId or pageName must be defined")),t},e}();t.SmartNode=n},837:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ViewabilityNode=void 0;var n=function(){function e(){this.type=null,this.percentage=-1}return e.prototype.getNodeResponse=function(e){return null==e?null:{type:e.type?e.type:this.type,percentage:e.percentage?e.percentage:this.percentage}},e}();t.ViewabilityNode=n},629:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Global=void 0;t.Global=class{constructor(){this.sas=window.sas=window.sas||{},this.sas.cmd=window.sas.cmd=window.sas.cmd||[],this.sas.livePreview=window.sas.livePreview=window.sas.livePreview||{},this.isDebug=this._isDebug(),this.ieFixes()}ieFixes(){Object.entries||(Object.entries=e=>{const t=Object.keys(e);let n=t.length;const a=new Array(n);for(;n--;)a[n]=[t[n],e[t[n]]];return a})}setEids(e){"function"==typeof this.sas.setEids?this.sas.setEids([e]):this.sas.cmd.unshift((()=>this.sas.setEids([e])))}_log(e,t,n=""){const a="background:#fe5000; border-radius:2px; color:#feffff; font-family:lato,sans-serif; padding:1px 3px;";"warning"===t?console.warn("%cequativ",a,e,n):this.isDebug&&console.log("%cequativ",a,e,n)}isString(e){return"string"==typeof e||e instanceof String}isNonEmptyString(e){return Boolean(e)&&this.isString(e)}isObjectEmpty(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e&&e&&0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}_isDebug(){return"true"===("function"==typeof window.URLSearchParams?new URLSearchParams(window.location.search).get("sas_debug"):null)}}},934:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Gpid=void 0;const a=n(629);class i extends a.Global{constructor(){super(),this.gpidData=new Map,this.sas.setGpid=(e,t)=>this.setGpid(e,t),this.sas.getGpid=e=>this.getGpid(e)}getGpid(e){return this.isNonEmptyString(e)?this.gpidData.get(e):void this._log("Gpid: wrong input data format","warning",e)}setGpid(e,t){this.isNonEmptyString(e)&&this.isNonEmptyString(t)?this.gpidData.set(e,t):this._log("Gpid: wrong input data format","warning",[e,t])}}t.Gpid=i},791:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Id5=void 0;const a=n(629);class i extends a.Global{constructor(){super(...arguments),this.partnerId=102}init(e){const t={partnerId:this.partnerId};(null==e?void 0:e.pd)&&(t.pd=e.pd);const n=window.ID5.init(t);(null==n?void 0:n.getUserId())&&this.setEids(n.getUserIdAsEid())}}t.Id5=i},129:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{c(a.next(e))}catch(e){r(e)}}function s(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SasIabApi=void 0;const i=n(89);class r{constructor(e,t){this.apiWasFound=!1,this.apiAnsweredOk=!1,this.eventMessageListenerAdded=!1,this.apiCallbacks={},this.myCmpCallbackFinished=void 0,this.maxSearchRetry=50,this.doubleCallbackTime=10,this.retryNumber=0,this.retryInterval=0,this.name=e.name,this.sasCookieName=e.sasCookieName,this.sasAddtlCookieName=e.sasAddtlCookieName,this.version=e.version,this.getConsentFunction=e.getConsentFunction,this.apiFunctionName=e.apiFunctionName,this.consentObjectConsentDataName=e.consentObjectConsentDataName,this.consentObjectAdditionalConsentDataName=e.consentObjectAdditionalConsentDataName,this.apiLocator=e.apiLocator,this.sentMessage=e.sentMessage,this.postMessageReturnObjectName=e.postMessageReturnObjectName,t&&(this.myCmpCallbackFinished=()=>t()),this.lastCallbackResult={id:"",addtlConsent:"",eventStatus:"",gdprApplies:void 0,timeStamp:0,vendor:{consents:{},legitimateInterests:{}}}}get gdprApplies(){return this._gdprApplies}cmpCallback(e,t){var n;if(!t||!e||void 0===e[this.consentObjectConsentDataName]||null===e[this.consentObjectConsentDataName])return void window.sas.events.fire("ApiAnswered Wrong answer",{consent:e,success:t,failType:"Wrong answer",version:this.version},this.name);this.apiAnsweredOk=!0,this._gdprApplies=e.gdprApplies;const a={consentObject:e,name:this.consentObjectConsentDataName};if(e[this.consentObjectConsentDataName]&&window.sas.utils.setLocalStorageItemSafely(this.sasCookieName,e[this.consentObjectConsentDataName]),this.consentObjectAdditionalConsentDataName&&e[this.consentObjectAdditionalConsentDataName]&&this.sasAddtlCookieName){let t=e[this.consentObjectAdditionalConsentDataName];Array.isArray(t)&&(t=JSON.stringify(t)),window.sas.utils.setLocalStorageItemSafely(this.sasAddtlCookieName,t),a.additionalConsent=this.consentObjectAdditionalConsentDataName}window.sas.events.fire("ApiAnswered Valid answer",a,this.name),null===(n=this.myCmpCallbackFinished)||void 0===n||n.call(this)}callApiLocal(){return a(this,void 0,void 0,(function*(){const e=window[this.apiFunctionName];if(void 0!==e&&"[object Function]"===Object.prototype.toString.call(e)){if(this.apiWasFound=!0,window.sas.events.fire("ApiCalled",{location:"Same Iframe",version:this.version},this.name),"__gpp"===this.apiFunctionName){const t=()=>{const t=e("getGPPData");this.cmpCallback(t,null!=t)},n=Number((yield(0,i.betterGpp)("ping")).gppVersion||1);n<1.1&&t(),e(this.getConsentFunction,(e=>{n<1.1?t():this.cmpCallback(e.pingData,null!=e.pingData)}))}else e(this.getConsentFunction,this.version,((e,t)=>{this.cmpCallback(e,t)}));return!0}return!1}))}callApiInFrame(){let e,t=window;for(;!e;){try{t.frames[this.apiLocator]&&(e=t)}catch(e){}if(t===window.top)break;t=t.parent}if(e){this.apiWasFound=!0,window.sas.events.fire("ApiFrameFound",{version:this.version},this.name);const t=(t,n,a)=>{const i="smartjs"+Math.random();this.apiCallbacks[i]=a,this.sendPostMessage(t,n,i,e)};if(this.eventMessageListenerAdded||(window.sas.events.addEvent(window,"message",(e=>{this.readPostMessageResponse(e)})),this.eventMessageListenerAdded=!0),window.sas.events.fire("ApiCalled",{location:"Different iframe",version:this.version},this.name),"__gpp"===this.apiFunctionName){const n="smartjsPing"+Math.random();this.apiCallbacks[n]=e=>{var n,a;((null===(n=e.returnValue)||void 0===n?void 0:n.gppVersion)?Number(null===(a=e.returnValue)||void 0===a?void 0:a.gppVersion):1)<1.1&&t("getGPPData",void 0,((e,t)=>{this.cmpCallback(e,t)}))},this.sendPostMessage("ping",null,n,e)}return t(this.getConsentFunction,void 0,((e,t)=>{this.cmpCallback(e,t)})),!0}return!1}sendPostMessage(e,t,n,a){const i={};i[this.sentMessage]={command:e,parameter:t,callId:n,version:this.version},null==a||a.postMessage(i,"*")}readPostMessageResponse(e){const t="string"==typeof e.data&&-1!==e.data.indexOf(this.postMessageReturnObjectName)?JSON.parse(e.data):e.data;if(t[this.postMessageReturnObjectName]){const n=t[this.postMessageReturnObjectName];"function"!=typeof this.apiCallbacks[n.callId]||this.isCallbackDouble(n.callId,e)||(this.assignLastCallback(n.callId,e),this.apiCallbacks[n.callId](n.returnValue,n.success,this.version))}}isCallbackDouble(e,t){var n,a,i;let r=!1;const o=null===(a=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.__tcfapiReturn)||void 0===a?void 0:a.returnValue;return e===this.lastCallbackResult.id&&(null==t?void 0:t.timeStamp)-this.lastCallbackResult.timeStamp<this.doubleCallbackTime&&this.lastCallbackResult.addtlConsent===(null==o?void 0:o.addtlConsent)&&this.lastCallbackResult.eventStatus===(null==o?void 0:o.eventStatus)&&this.lastCallbackResult.gdprApplies===(null==o?void 0:o.gdprApplies)&&JSON.stringify(this.lastCallbackResult.vendor.consents)===JSON.stringify(null===(i=null==o?void 0:o.vendor)||void 0===i?void 0:i.consents)&&(r=!0),r}assignLastCallback(e,t){var n,a;const i=null===(a=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.__tcfapiReturn)||void 0===a?void 0:a.returnValue;this.lastCallbackResult.id=e,this.lastCallbackResult.addtlConsent=null==i?void 0:i.addtlConsent,this.lastCallbackResult.eventStatus=null==i?void 0:i.eventStatus,this.lastCallbackResult.gdprApplies=null==i?void 0:i.gdprApplies,this.lastCallbackResult.timeStamp=null==t?void 0:t.timeStamp,(null==i?void 0:i.vendor)&&(this.lastCallbackResult.vendor=Object.assign({},null==i?void 0:i.vendor))}tryCallApi(e){return a(this,void 0,void 0,(function*(){(yield this.callApiLocal())||(e%10==0&&window.sas.events.fire("ApiNotFoundInFrame",{retryNumber:e},this.name),this.callApiInFrame())}))}searchApiInterval(){return a(this,void 0,void 0,(function*(){this.apiWasFound&&this.apiAnsweredOk||(this.retryNumber%10==0&&window.sas.events.fire("ApiSearch",{retryNumber:this.retryNumber},this.name),yield this.tryCallApi(this.retryNumber)),(this.retryNumber>this.maxSearchRetry||this.apiWasFound&&this.apiAnsweredOk)&&clearInterval(this.retryInterval),this.retryNumber++}))}searchApi(){const e="intervalCounterNumber"+this.name;this.retryInterval=window[e]=window.setInterval((()=>{this.searchApiInterval()}),500),this.searchApiInterval()}}t.SasIabApi=r,window.SasIabApi=r},94:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{c(a.next(e))}catch(e){r(e)}}function s(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GPPSectionEnum=t.ConsentEnum=t.Consent=void 0;const i=n(89);var r,o;t.Consent=class{constructor(){this.consentTgtString="consent=rejected",this.maxSearchEntry=50,this.consentRejectedKey="sas_consent_rejected",this.cmpValidKey="eqtv_cmpvalid",this.consentStatus=r.UNKNOWN,this.tcfData={},this.retryInterval=0,this.retryNumber=0,this.retryTime=500,this.logOn=!1,this.validateTCFData=e=>{var t;this.log("validateTCFData",e);const{tcData:n,success:a}=this.tcfData;if(n&&!this.isCmpValid(n.cmpId))return this.consentStatus=r.REJECTED,void this.callCallback(!0,e);if(this.isUiVisible(null==n?void 0:n.eventStatus))return void this.callCallback(this.consentStatus===r.UNKNOWN?Boolean(null==n?void 0:n.gdprApplies):this.consentStatus===r.REJECTED,e);const i=!0===(null===(t=null==n?void 0:n.vendor)||void 0===t?void 0:t.consents[45])&&[1,2,4,7,10].every((e=>{var t;return!0===(null===(t=n.purpose)||void 0===t?void 0:t.consents[e])}));a&&n&&(!1===n.gdprApplies||i?this.consentStatus=r.AGREED:void 0===n.gdprApplies?this.consentStatus=i?r.AGREED:r.REJECTED:this.consentStatus=r.REJECTED),this.callCallback(this.consentStatus===r.REJECTED,e)}}checkConsent(e){return a(this,void 0,void 0,(function*(){this.log("checkConsent",e);const t=window.sas.utils.getLocalStorageItemSafely(this.consentRejectedKey);this.callCallback("1"===t,e),yield this.checkGPPConsent(e),"function"!=typeof window.__gpp&&this.checkTCFConsent(e)}))}getGPPData(e){this.log("getGPPData",e),window.__gpp("addEventListener",(t=>a(this,void 0,void 0,(function*(){let n;if(Number(t.pingData.gppVersion)<1.1){const e=window.__gpp("getGPPData");n={cmpId:t.pingData.cmpId,cmpDisplayStatus:t.pingData.cmpDisplayStatus,applicableSections:e.applicableSections}}else{const e=t.pingData;n={cmpId:e.cmpId,cmpDisplayStatus:e.cmpDisplayStatus,applicableSections:e.applicableSections}}yield this.validateGPPData(n,e)}))))}createRetryInterval(e){this.log("createRetryInterval",e);const t=this.getTopWindow();this.retryInterval=window.intervalCounterNumberGPP2=window.setInterval((()=>a(this,void 0,void 0,(function*(){if(this.retryNumber>this.maxSearchEntry)clearInterval(this.retryInterval);else{if(window.__gpp=t.__gpp||window.__gpp,"function"==typeof window.__gpp){this.log("window.__gpp",window.__gpp);const t=yield(0,i.betterGpp)("ping");"loaded"===(null==t?void 0:t.cmpStatus)&&(this.getGPPData(e),clearInterval(this.retryInterval))}this.retryNumber++}}))),this.retryTime)}checkGPPConsent(e){return a(this,void 0,void 0,(function*(){if(this.log("checkGPPConsent",e),"function"==typeof window.__gpp){if("loaded"===(yield(0,i.betterGpp)("ping")).cmpStatus)return void this.getGPPData(e)}this.createRetryInterval(e)}))}checkTCFConsent(e){this.log("checkTCFConsent",e),"function"==typeof window.__tcfapi&&(this.log("window.__tcfapi",window.__tcfapi),window.__tcfapi("addEventListener",2,((t,n)=>{this.tcfData={tcData:t,success:n},this.validateTCFData(e)})))}validateGPPData(e,t){var n,s,c;return a(this,void 0,void 0,(function*(){if(this.log("validateGPPData",e,t),!this.isCmpValid(e.cmpId))return this.consentStatus=r.REJECTED,void this.callCallback(!0,t);if(this.isUiVisible(e.cmpDisplayStatus)){const e=window.sas.utils.getLocalStorageItemSafely(this.consentRejectedKey);this.callCallback("1"===e,t)}else if(this.consentStatus=r.AGREED,null===(n=e.applicableSections)||void 0===n?void 0:n.length){for(const t of e.applicableSections)switch(t){case 2:if(yield(0,i.betterGpp)("hasSection",o.TCFEUV2)){const e=yield(0,i.betterGpp)("getSection",o.TCFEUV2),t=Array.isArray(e)?e[0]:e,n=t&&((null===(s=t.VendorConsent)||void 0===s?void 0:s.includes(45))||(null===(c=t.VendorConsents)||void 0===c?void 0:c.includes(45)))&&[1,2,4,7,10].every((e=>{var n,a;return(null===(n=t.PurposeConsent)||void 0===n?void 0:n[e-1])||(null===(a=t.PurposeConsents)||void 0===a?void 0:a[e-1])}));n||(this.consentStatus=r.REJECTED)}break;case 6:if(yield(0,i.betterGpp)("hasSection",o.USPV1)){const e=yield(0,i.betterGpp)("getSection",o.USPV1),t=Array.isArray(e)?e[0]:e;"Y"!==(null==t?void 0:t.OptOutSale)||(this.consentStatus=r.REJECTED)}break;default:this.consentStatus=r.UNKNOWN}this.consentStatus===r.UNKNOWN?this.checkTCFConsent(t):this.callCallback(this.consentStatus===r.REJECTED,t)}}))}callCallback(e,t){this.log("callCallback",e,t),"function"==typeof t&&t(e?this.consentTgtString:null),"function"!=typeof window.__gpp&&"function"!=typeof window.__tcfapi||(e?window.sas.utils.setLocalStorageItemSafely(this.consentRejectedKey,JSON.stringify(r.REJECTED)):window.sas.utils.setLocalStorageItemSafely(this.consentRejectedKey,JSON.stringify(r.AGREED)))}isUiVisible(e){return this.log("isUiVisible",e),"cmpuishown"===e||"visible"===e}isCmpValid(e){const t=window.sas.cmpIds,n=!t||t.includes(e);return window.sas.utils.setLocalStorageItemSafely(this.cmpValidKey,String(Number(n))),n}getTopWindow(){this.log("getTopWindow");let e=5,t=window;for(;e--;)try{t.parent&&t.parent.document&&(t=t.parent,t===t.parent&&(e=0))}catch(e){this.log("getTopWindow error",e)}return t}log(...e){this.logOn&&console.log("%cconsent","background:#ed5625; border-radius:2px; color:#feffff; font-family:lato,sans-serif; padding:1px 3px;",e)}},function(e){e[e.AGREED=0]="AGREED",e[e.REJECTED=1]="REJECTED",e[e.UNKNOWN=2]="UNKNOWN"}(r=t.ConsentEnum||(t.ConsentEnum={})),function(e){e.TCFEUV2="tcfeuv2",e.USPV1="uspv1"}(o=t.GPPSectionEnum||(t.GPPSectionEnum={}))},89:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.betterGpp=void 0,t.betterGpp=function(e,t){return new Promise((n=>{const a=window.__gpp(e,((e,t)=>{t&&n(e)}),t);void 0!==a&&n(a)}))}},565:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LivePreview=void 0;const a=n(629);class i extends a.Global{constructor(){super(),this.urlMainConfigName="live_preview_config",this.endpointUrl="//previewcore.smartadserverapis.com/preview",this.scriptIdInc=1,this.sas.livePreview.active=!1,this.sas.livePreview.callLivePreview=e=>this.callLivePreview(e),this.config=this.getParams(new URLSearchParams(window.location.search))}getParams(e){if(!e.get(this.urlMainConfigName))return this._log("Preview mode is active, but there is missing config param"),null;window.sas.livePreview.active=!0;const t=this.parseJson(e.get(this.urlMainConfigName));return"dev"!==(null==t?void 0:t.environment)&&"preprod"!==(null==t?void 0:t.environment)||(this.endpointUrl=this.endpointUrl.replace("previewcore.","previewcore-"+t.environment+".internal.")),t}parseJson(e){try{const t=JSON.parse(String(null==e?void 0:e.replace(/(\\t|\\n|\\r|\\)/gm,"")));return this.validateJson(t)?t:null}catch(e){return this._log("Preview mode is active, but parsing config json failed"),null}}validateJson(e){const t=this.isValidDataNode(e);return e.uid&&t?(this._log("Preview mode is active, we have required parameters"),!0):(this._log("Preview mode is active, but some of required parameters are missing"),this._log("Preview uid ",void 0,e.uid),this._log("Preview data ",void 0,e.data),!1)}isValidDataNode(e){return e.data.every((e=>null!=e.insertionId&&null!=e.insertionId&&e.formats&&e.formats.length&&e.formats.every((e=>null!=e.creativeId&&null!=e.creativeId&&(null!=e.id&&null!=e.id||null!=e.tag&&null!=e.tag)||null!=e.id&&null!=e.id||null!=e.tag&&null!=e.tag))))}callLivePreview(e){if(!this.config)return e;const t=[];let n;for(const a of this.config.data)e:for(let i=e.length-1;i>=0;i--){const r=e[i];if(n=a.formats.filter((e=>r.tagId===e.tag)),n.length)this.addPreviewData(n,t,a,r,e,i);else{n=a.formats.filter((e=>Number(r.id)===e.id));for(const o of n)if(!o.tag&&!this.config.data.some((e=>e.formats.some((e=>e.tag===r.tagId))))){this.updatePreviewObject(t,r,a,o.creativeId),e.splice(i,1);continue e}}}if(t.length){const e=`Preview mode is active${this.config.blockAds?" (with blockAds parameter)":""}, call preview `;this._log(e,void 0,this.endpointUrl),t.forEach((e=>{this.callEndpoint(e)}))}return this.config.blockAds?[]:e}callEndpoint(e){this._log(`Make a preview call for insertionId ${e.insertionId} / formatId ${e.id} / tagId ${e.tag} ${e.creativeId?`/ creativeId ${e.creativeId}`:""}`),window.sas_ajax=!0;const t=this.generateUrl(e),n=document.createElement("script");n.id="sas_script_preview"+this.scriptIdInc++,n.type="text/javascript",n.src=t,n.async=!0;const a=document.getElementById(e.tag);a?a.appendChild(n):document.getElementsByTagName("head")[0].appendChild(n)}generateUrl(e){var t;return`${window.location.protocol+this.endpointUrl}?insid=${e.insertionId}&ruid=${null===(t=this.config)||void 0===t?void 0:t.uid}&fid=${e.id}&tag=${e.tag}${e.creativeId?`&cid=${e.creativeId}`:""}&timestamp=${Date.now()}`}updatePreviewObject(e,t,n,a){e.push(Object.assign({id:Number(t.id),tag:t.tagId,insertionId:n.insertionId},a&&{creativeId:a}))}addPreviewData(e,t,n,a,i,r){var o,s;(null===(o=e[0])||void 0===o?void 0:o.id)?t.push(Object.assign(Object.assign({},e[0]),{insertionId:n.insertionId})):this.updatePreviewObject(t,a,n,null===(s=e[0])||void 0===s?void 0:s.creativeId),i.splice(r,1)}}t.LivePreview=i},703:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Liveramp=void 0;const a=n(629);class i extends a.Global{constructor(){super(...arguments),this.atsPath="https://ats.rlcdn.com/ats.js",this.storageKey="sas__lr_env"}init(e){"number"==typeof e.placementID&&e.placementID?this.fetchId(e):this._log("LiveRamp ATS not initiated because of not valid placementID","warning"),this.readId()}fetchId(e){(()=>window.ats?Promise.resolve():new Promise((e=>{const t=document.createElement("script");t.onload=e,t.src=this.atsPath,document.head.appendChild(t)})))().then((()=>{window.ats.start(e),this._log("LiveRamp ATS initiated"),window.ats.retrieveEnvelope().then((e=>{e&&window.localStorage.setItem(this.storageKey,JSON.parse(e).envelope)}))}))}readId(){const e=window.localStorage.getItem(this.storageKey);e&&this.setEids({source:"liveramp.com",uids:[{id:e}]})}}t.Liveramp=i},499:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.swlTypes=t.swlDefaultConfiguration=t.SasWebLogger=void 0;const a=n(19);t.SasWebLogger=class{constructor(e){this.log=(e,n,a)=>{const r=a.smart;t.swlTypes.indexOf(e)<0&&(e="info"),i.indexOf(n)<0&&(n=""),("number"==typeof r.pageId||"string"==typeof r.pageName&&""!==r.pageName)&&this.logger.log(e,n,a)},this.logger=new a.WebTechnicalLogger(e)}};const i=["ad_response","error_response","noad_response","timeout_response"];t.swlDefaultConfiguration={clientToken:"pubbcfecde340a05af2aa9cad46f8c050f2",source:"smartjs",tags:"smartjs",service:"smartjs",host:"FRONT-DDLOG-HOST",endpoint:"smartjs",minLogLevel:"error",version:"1.22.0",samplingRate:{debug:1e5,info:1e4,warning:1e3,error:100}},t.swlTypes=["debug","error","info","warning"]},928:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t="https://ced-ns.sascdn.com/diff/js/"){return new Promise(((n,a)=>{const i=document.createElement("script");i.src=t+e+".js",i.onload=n,i.onerror=a,document.head.appendChild(i)}))}},352:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Sda=void 0;const a=n(629);class i extends a.Global{constructor(){super(),this.sdaData=[],this.sdcData=[],this.sas.setSda=e=>this.setSda(e,!1),this.sas.getSda=()=>this.sdaData,this.sas.setSdc=e=>this.setSda(e,!0),this.sas.getSdc=()=>this.sdcData}validateAndPushData(e,t){if(this.isValidArray(e))for(const n of e){const e={name:(null==n?void 0:n.name)||""};if(this.isNonEmptyString(null==n?void 0:n.id)&&(e.id=n.id),(null==n?void 0:n.segment)&&this.isValidArray(n.segment))for(const t of n.segment){const n={};this.isNonEmptyString(null==t?void 0:t.id)&&(n.id=t.id),this.isNonEmptyString(null==t?void 0:t.name)&&(n.name=t.name),this.isNonEmptyString(null==t?void 0:t.value)&&(n.value=t.value),this.isObjectEmpty(n)||(Array.isArray(e.segment)||(e.segment=[]),e.segment.push(n))}(null==n?void 0:n.ext)&&!this.isObjectEmpty(n.ext)&&(e.ext=n.ext),this.isObjectEmpty(e)||!e.name||this.checkDuplicates(e,t)?console.warn("Equativ SDA: wrong input data format",n):t.push(e)}else console.warn("Equativ SDA: wrong input data format",e)}isValidArray(e){return Array.isArray(e)&&e.length>0}checkDuplicates(e,t){let n=!1;return t.forEach((t=>{JSON.stringify(e)===JSON.stringify(t)&&(n=!0)})),n}setSda(e,t){t?this.validateAndPushData(e,this.sdcData):this.validateAndPushData(e,this.sdaData)}removeSda(e){this.sdaData=this.sdaData.filter((t=>!t[e]))}}t.Sda=i},494:function(e,t){var n,a=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.SetTargetingMode=t.Targeting=void 0;t.Targeting=class{constructor(){this.targetingData=[],window.sas.setTargeting=this.setTargeting.bind(this),window.sas.overwriteTarget=this.overwriteTarget.bind(this),window.sas.updateTarget=this.updateTarget.bind(this)}setTargeting(e){this.targetingData.push(e)}overwriteTarget(e,t){this.targetingData.unshift({mode:n.Overwrite,target:this.tgtStringToObj(e),tagIds:[t]})}updateTarget(e,t=""){if(0===this.targetingData.length)return e;let i=this.tgtStringToObj(e);for(const e of this.targetingData)if(!e.tagIds||!e.tagIds.length||e.tagIds.indexOf(t)>-1)switch(e.mode){case n.Overwrite:i=Object.assign(Object.assign({},i),e.target);break;case n.Append:Array.from(new Set([...Object.keys(i),...Object.keys(e.target)])).forEach((t=>{const n=[...i[t]||[],...e.target[t]||[]];i[t]=n.filter(((e,t)=>n.indexOf(e)===t))}));break;case n.Remove:Object.keys(e.target).forEach((e=>{if(i[e]){const t=i,n=e,r=(t[n],a(t,["symbol"==typeof n?n:n+""]));i=r}}));break;default:i=Object.assign({},e.target)}const r=this.tgtObjToString(i);return""===r&&void 0===e?void 0:r}tgtObjToString(e){let t="";for(const[n,a]of Object.entries(e))t+=a.length?`${n}=${a};`:`${n};`;return t}tgtStringToObj(e){const t={};if(e)for(const n of e.split(";")){const e=n.split("=");e[0]&&(t[e[0]]=t[e[0]]||[],e[1]&&(t[e[0]]=t[e[0]].concat(e[1].split(",").filter((e=>e.length)))))}return t}},function(e){e[e.Default=0]="Default",e[e.Overwrite=1]="Overwrite",e[e.Append=2]="Append",e[e.Remove=3]="Remove"}(n=t.SetTargetingMode||(t.SetTargetingMode={}))},127:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Topics=void 0;t.Topics=class{constructor(e){this.sda=e,this.topicsKey="eqtv_topics",this.taxonomyMap={1:600,2:601,3:602,4:603,5:604,6:605,7:606,8:607,9:608,10:609},this.init()}init(){document.browsingTopics().then((e=>{const t=this.formatExtNode(e);window.sas.utils.setLocalStorageItemSafely(this.topicsKey,JSON.stringify(t)),this.sda.removeSda("ext"),this.sda.setSda(t,!1)}));const e=window.sas.utils.getLocalStorageItemSafely(this.topicsKey);e&&this.sda.setSda(JSON.parse(e),!1)}formatExtNode(e){return Object.entries(this.groupByField("taxonomyVersion",e)).filter((([e])=>Object.prototype.hasOwnProperty.call(this.taxonomyMap,e))).map((([e,t])=>Object.entries(this.groupByField("modelVersion",t)).map((([t,n])=>({ext:{segtax:this.taxonomyMap[e],segclass:t},name:document.location.hostname,segment:n.map((e=>({id:e.topic.toString()})))}))))).reduce(((e,t)=>e.concat(t)),[])}groupByField(e,t){return t.reduce(((t,n)=>{const a=n[e];return Object.prototype.hasOwnProperty.call(t,a)||(t[a]=[]),t[a].push(n),t}),{})}}},76:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Smart=void 0;const i=n(94),r=n(629),o=n(791),s=n(703),c=n(129),l=n(499),d=n(494),u=n(494),p=n(352),h=a(n(928)),f=n(565),g=n(127),v=n(934);class m extends r.Global{constructor(){super(),this.targeting=new u.Targeting,this.consent=new i.Consent,this.setupEquativDebugMode()}setupEquativDebugMode(){const e=this.sas.debugMode;e.addLog=t=>{e.active&&e.logsQueue.push(t)},e.addBanner=t=>{e.active&&e.bannersQueue.push(t)},null!==new URLSearchParams(window.location.search).get("equativ_debug")&&(e.active=!0,(0,h.default)("modules/lazy/debugMode").catch((()=>console.error("Couldn't load Equativ Debug Mode."))))}initCmp(){const e=new c.SasIabApi({name:"CMP V2",version:2,apiFunctionName:"__tcfapi",getConsentFunction:"addEventListener",sasCookieName:"sas_euconsent_v2",sasAddtlCookieName:"sas_addtl_euconsent_v2",consentObjectConsentDataName:"tcString",consentObjectAdditionalConsentDataName:"addtlConsent",apiLocator:"__tcfapiLocator",sentMessage:"__tcfapiCall",postMessageReturnObjectName:"__tcfapiReturn"}),t=new c.SasIabApi({name:"CCPA",version:1,apiFunctionName:"__uspapi",getConsentFunction:"getUSPData",sasCookieName:"sas_usprivacy",consentObjectConsentDataName:"uspString",apiLocator:"__uspapiLocator",sentMessage:"__uspapiCall",postMessageReturnObjectName:"__uspapiReturn"}),n=new c.SasIabApi({name:"GPP",version:1,apiFunctionName:"__gpp",getConsentFunction:"addEventListener",sasCookieName:"sas_gpp",sasAddtlCookieName:"sas_gpp_sid",consentObjectConsentDataName:"gppString",consentObjectAdditionalConsentDataName:"applicableSections",apiLocator:"__gppLocator",sentMessage:"__gppCall",postMessageReturnObjectName:"__gppReturn"});e.searchApi(),t.searchApi(),n.searchApi()}initLogger(){const e=l.swlDefaultConfiguration;void 0!==window.sas_ddMinLogLevel&&l.swlTypes.indexOf(window.sas_ddMinLogLevel)>-1&&(e.minLogLevel=window.sas_ddMinLogLevel),e.host=window.location.host,window.sas.sasWebLogger=new l.SasWebLogger(e)}initModules(e){var t;!1!==(null===(t=null==e?void 0:e.consent)||void 0===t?void 0:t.targeting)&&this.consent.checkConsent((e=>this.checkConsentCallback(e))),!1!==window.sas_useID5Module&&(new o.Id5).init(null==e?void 0:e.id5),void 0!==window.sas_useLiverampModule&&!0===window.sas_useLiverampModule&&e&&e.liveramp&&"undefined"!=typeof Promise&&(new s.Liveramp).init(e.liveramp)}checkConsentCallback(e){(e||"function"==typeof window.__gpp||"function"==typeof window.__tcfapi)&&(e?this.targeting.setTargeting({mode:d.SetTargetingMode.Overwrite,target:{consent:["rejected"]}}):this.targeting.setTargeting({mode:d.SetTargetingMode.Remove,target:{consent:[]}}))}init(){var e,t;null===(t=null===(e=null===window||void 0===window?void 0:window.sas)||void 0===e?void 0:e.events)||void 0===t||t.on("setupCalled",(e=>this.initModules(null==e?void 0:e.modules)),"setupCalledId"),window.setTimeout((()=>this.initCmp())),this.initLogger();const n=new p.Sda;!0===window.sas_useTopicsAPIData&&"browsingTopics"in document&&document.featurePolicy.allowsFeature("browsing-topics")&&document.featurePolicy.allowsFeature("interest-cohort")&&new g.Topics(n),new URLSearchParams(window.location.search).get("live_preview_config")&&new f.LivePreview,new v.Gpid}}t.Smart=m,(new m).init()}},t={};(function n(a){var i=t[a];if(void 0!==i)return i.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,n),r.exports})(76)})(),function(e,t){var n=e.sas;if(!n.__smartLoaded){n.__smartLoaded=!0;var a=function(e){var t=this;t._callTimestamp=re,t.instances=[],n.events.on("ad",(function(){t._onAd.apply(t,arguments)}),e),n.events.on("load",(function(){t._onLoad.apply(t,arguments)}),e),n.events.on("noad",(function(){t._onNoad.apply(t,arguments)}),e),n.events.on("error",(function(){t._onError.apply(t,arguments)}),e),n.events.on("render",(function(){t._render.apply(t,arguments)}),e),n.events.on("beforeRender",(function(){t._beforeRender.apply(t,arguments)}),e),n.events.on("beforeFetch",(function(){t._beforeFetch.apply(t,arguments)}),e),n.events.on("hbRender",(function(){t._hbRender.apply(t,arguments)}),e),n.events.on("request",(function(){t._request.apply(t,arguments)}),e)};a.prototype.onCall=function(e,t,n){this.callType=e,this.ad=t,this.options=n,this.durationEvents={responseType:"admarkup"}},a.prototype.reset=function(e,t){if(this.displayData=null,this.hbRenderUrls=null,e?this.renderStatus=null:"rendered"==this.renderStatus&&(this.renderStatus="pending"),n.events.fire("reset",{formatId:this.ad.formatId,instance:this.ad.instance,tagId:this.ad.tagId,hardReset:e},this.ad.tagId),t)for(var a=0;a<this.instances.length;a++)this.instances[a].reset(e)},a.prototype.setHeaderBiddingWinner=function(e){this.headerBidding=e},a.prototype._onLoad=function(){var n=t.getElementById(this.ad.tagId);if(n){this.hasAd=this.hasAd||n.childNodes.length>1,e.sas_loadHandler&&e.sas_loadHandler({id:this.ad.formatId,hasAd:this.hasAd}),this.options&&this.options.onLoad&&this.options.onLoad({formatId:this.ad.formatId,tagId:this.ad.tagId,hasAd:this.hasAd});var a=(new Date).getTime();this.durationEvents.durationLoad=a-this._callTimestamp,this.hasAd&&void 0!==this.durationEvents.durationAd?this._sendLog("info","ad_response"):this.durationEvents.durationLoad=void 0}},a.prototype._render=function(){var e=(new Date).getTime();this.durationEvents.durationRender=e-this._callTimestamp},a.prototype._beforeRender=function(e){var t=(new Date).getTime();this.durationEvents.durationBeforeRender=t-this._callTimestamp,this.options&&this.options.beforeRender&&this.options.beforeRender(e)},a.prototype._request=function(e){var t=(new Date).getTime();this.durationEvents.durationRequest=t-this._callTimestamp,this.options&&this.options.request&&this.options.request(e)},a.prototype._beforeFetch=function(e){this.options&&this.options.beforeFetch&&this.options.beforeFetch(e)},a.prototype._onError=function(e){this.options&&this.options.onError&&this.options.onError(e)},a.prototype._onNoad=function(e){if(this.callType==n.callType.ONECALL&&this.ad.isOnecallJSON){if(this.displayData.scriptNoad){var t=Q(e.tagId);t&&(this.displayData.scriptNoad=$(this.displayData.scriptNoad,t)),(new Image).src=this.displayData.scriptNoad}}else this.callType==n.callType.ONECALL&&sas_manager&&sas_manager.noad(this.ad.formatId);e.hbRenderUrls&&e.hbRenderUrls.hbRenderFailedUrl&&(this.hbRenderUrls=e.hbRenderUrls,e.hbRenderUrls=null),this.options&&this.options.onNoad&&this.options.onNoad(e);var a=(new Date).getTime();this.durationEvents.durationNoAd=a-this._callTimestamp,this.durationEvents.durationRender=void 0,this._sendLog("info","noad_response")},a.prototype._onAd=function(e){var t=(new Date).getTime();this.durationEvents.durationAd=t-this._callTimestamp,this.hasAd=!0,this.options&&this.options.onAd&&this.options.onAd(e)},a.prototype._sendLog=function(e,t){var a=this.ad,i={smart:{siteId:a.siteId,pageId:a.pageId,pageName:a.pageName,formatId:a.formatId,tagId:a.tagId,target:a.target},measure:{durationBeforeRender:this.durationEvents.durationBeforeRender,durationRender:this.durationEvents.durationRender,durationAd:this.durationEvents.durationAd,durationLoad:this.durationEvents.durationLoad,durationNoAd:this.durationEvents.durationNoAd,durationRequest:this.durationEvents.durationRequest,responseType:this.durationEvents.responseType}};n.sasWebLogger.log(e,t,i)},a.prototype.clean=function(){var e=t.getElementById(this.ad.tagId);this.options&&this.options.onClean&&this.options.onClean(this.ad.formatId,e),n.events.fire("clean",{formatId:this.ad.formatId,instance:this.ad.instance,tagId:this.ad.tagId},this.ad.tagId),e&&(e.innerHTML="")},a.prototype._hbRender=function(e){this.hbRenderUrls&&(e.success?(new Image).src=this.hbRenderUrls.hbRenderSuccessUrl:(new Image).src=this.hbRenderUrls.hbRenderFailedUrl,this.hbRenderUrls=null)},a.prototype.render=function(){var e=this;if("rendered"!=this.renderStatus)if(this.displayData){this.renderStatus="rendered",this.clean();var a={formatId:this.ad.formatId,instance:this.ad.instance,tagId:this.ad.tagId};this.displayData.hbRenderFailedUrl&&(a.hbRenderUrls={hbRenderFailedUrl:this.displayData.hbRenderFailedUrl,hbRenderSuccessUrl:this.displayData.hbRenderSuccessUrl}),n.events.fire("beforeRender",a,e.ad.tagId);var i=function(){n.events.fire("load",a,e.ad.tagId)},r=function(){n.events.fire("error",a,e.ad.tagId),n.events.fire("noad",a,e.ad.tagId)},o=t.getElementById(this.ad.tagId);if(n.debugMode.addBanner({adSlot:o,adInfo:{"Network ID":h,"Site ID":this.ad.siteId,"Page ID":this.ad.pageId,"Format ID":this.ad.formatId,"Tag ID":this.ad.tagId,Targeting:this.ad.target}}),!this.displayData.scriptType)return n.events.fire("load",a,this.ad.tagId),n.events.fire("noad",a,this.ad.tagId),void n.debugMode.addLog({adObj:this.ad,isAd:!1,adSlot:o});if(n.debugMode.addLog({adObj:this.ad,isAd:!0,adSlot:o}),o){switch(this.displayData.scriptType){case"iframe":F(o,this,this.options.async,i,r);break;case"script":var s=Q(o.id);s&&this.displayData.scriptNoad&&(this.displayData.scriptNoad=$(this.displayData.scriptNoad,s)),H(o,this.displayData.scriptSrc,this.options.async,i,r,s,_e(this.ad.formatId));break;case"passback":n.passback({formatId:this.ad.formatId,tagId:this.ad.tagId,chain:this.displayData.chain});break;case"content":q(o,this),i();break;default:throw new Error("Unsupported script type "+this.displayData.scriptType)}_e(this.ad.formatId)&&n.events.fire("request",a,e.ad.tagId),n.events.fire("render",a,this.ad.tagId)}else n.events.fire("error",a,this.ad.tagId)}else this.renderStatus="pending"};var i=function(){},r=!1,o=function(){return Math.round(1e10*Math.random())},s="https://www.smartadserver.com",c=s,l=o(),d=!0,u=encodeURIComponent,p=decodeURIComponent,h=0,f=!1,g=0,v=!1,m=null,y=null,b=null,w={},I=[],_=[],S={},C={},O={},D=null;n._networks=n._networks||{},n._pendingCommands=n._pendingCommands||{};var T={};n.callType={STD:"std",IFRAME:"iframe",ONECALL:"onecall",XML:"xml",PASSBACK:"passback"},n.renderMode={DEFAULT:0,READY:1,ON_DEMAND:2};var k=!1,A=[],E={onLoad:i,onError:i,onClean:i,beforeRender:i};n.events.on("call",(function(e){var t=w[e.ad.tagId],a=pe[e.ad.tagId]?pe[e.ad.tagId]:ue;n.livePreview.active&&(e.ad.formats=n.livePreview.callLivePreview(e.ad.formats)),e.ad.formats.length&&(se("Make a std call ",e),e.ad.usePostStandard?a.addListener((function(){j(e)})):t.displayData={scriptType:"script",scriptSrc:K(e.callType,e.ad,e.options)}),a.addListener((function(){t.render()}))}),n.callType.STD),n.events.on("call",(function(e){var t=w[e.ad.tagId];n.livePreview.active&&(e.ad.formats=n.livePreview.callLivePreview(e.ad.formats)),e.ad.formats.length&&(se("Make a iframe call ",e),t.displayData={scriptType:"iframe",scriptSrc:K(e.callType,e.ad,e.options),width:e.ad.width||0,height:e.ad.height||0}),ue.addListener((function(){t.render()}))}),n.callType.IFRAME),n.events.on("call",(function(e){n.livePreview.active&&Object.prototype.hasOwnProperty.call(e,"ad")&&Object.prototype.hasOwnProperty.call(e.ad,"formats")&&(e.ad.formats=n.livePreview.callLivePreview(e.ad.formats)),e.ad.formats.length&&(se("Make a onecall for formats ",e),ue.addListener((function(){e.ad.isOnecallJSON?L(e):N(e)})))}),n.callType.ONECALL);var N=function(e){var n=K(e.callType,e.ad,e.options)(),a=t.getElementsByTagName("head")[0],i=null;a&&a.id&&(i=Q(a.id)),H(a,n,e.options.async,(function(){var t;for(var n in sas_manager.formats)if(t=M(n.substring(1))){var a=sas_manager.formats[n];i&&(t.displayData.scriptNoad=$(t.displayData.scriptNoad,i)),t.options.async||a.chain?t.displayData={scriptType:a.scriptType(),scriptSrc:a.scriptSrc(),chain:a.chain,width:"iframe"==a.scriptType()?a.scriptWidth():0,height:"iframe"==a.scriptType()?a.scriptHeight():0}:t.displayData=ge(a.scriptURL()),t.displayData.scriptSrc&&(t.displayData.scriptSrc=function(e){return function(){return De(e)}}(t.displayData.scriptSrc))}var r={};for(var o in e.ad.formats)r[e.ad.formats[o].id]=!0;for(var s in w)r[(t=w[s]).ad.formatId]&&(t.displayData=t.displayData||{},"pending"==t.renderStatus&&t.render())}),e.options.onError,i,!1)},L=function(e){ue.addListener((function(){var t=J(e.ad,e.options,e.callType);!function(e,t,n,a,i){ye(e,t,n,a,i,JSON.parse,"application/json")}(z(e.ad,e.options,e.callType),t,(function(e){for(var t in e){var n=M(t);if(n){var a=e[t];n.displayData={hbRenderFailedUrl:a.HbRenderFailedUrl,hbRenderSuccessUrl:a.HbRenderSuccessUrl,scriptType:a.ScriptType,scriptSrc:a.ScriptSrc,scriptNoad:a.ScriptNoad,contentType:a.ContentType,content:a.Content,chain:a.Chain,width:a.ScriptWidth,height:a.ScriptHeight},n.displayData.scriptSrc&&(n.displayData.scriptSrc=function(e){return function(){return De(e)}}(n.displayData.scriptSrc)),"pending"==n.renderStatus&&n.render()}}}),e.options.onError,e.options.domain)}))},j=function(e){ue.addListener((function(){var t=J(e.ad,e.options,e.callType);!function(e,t,n,a,i){ye(e,t,n,a,i,(function(e){return e}),"application/javascript")}(z(e.ad,e.options,e.callType),t,(function(t){var n=e.ad.tagId,a=M(n);a&&(a.displayData={scriptType:"content",contentType:"application/javascript",content:t},"pending"==a.renderStatus&&(pe[n]?pe[n].addListener(function(){this.render()}.bind(a)):a.render()))}),e.options.onError,e.options.domain)}))},R="invalid site id",P="invalid page id or name",x="invalid format id",U=function(e){throw new Error(e)};Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var M=function(e){var t=w[e=""+e]||w["sas_"+e];if(t)return t;var i=e.split("_"),r=i.slice(0,i.length-1).join("_");if(i.length>1&&!isNaN(i[i.length-1])&&(t=w[r]||w["sas_"+r])){var o=parseInt(i[i.length-1]),s=t.ad.tagId+"_"+o,c=new a(s);return c.onCall(t.callType,n.utils.extend({},t.ad,{tagId:s,instance:o}),t.options),t.instances.push(c),w[s]=c,c}return null},F=function(e,a,i,r,o){var s=t.createElement("iframe");s.id="sas_i_"+a.ad.formatId+(a.ad.instance?"_"+a.ad.instance:""),s.scrolling="no",s.frameBorder=0,s.width=a.displayData.width,s.height=a.displayData.height,s.style.margin=0,s.style.padding=0,s.style.width=a.displayData.width+"px",s.style.height=a.displayData.height+"px";var c="function"==typeof a.displayData.scriptSrc?a.displayData.scriptSrc():a.displayData.scriptSrc,l=Q(e.id);void 0!==l&&(c=$(c,l),a.displayData.scriptNoad=$(a.displayData.scriptNoad,l)),s.src=c,i?(n.events.addLoadEvent(s,r),n.events.addEvent(s,"error",o)):(s.setAttribute("onload",W(r)+"()"),s.setAttribute("onError",W(o)+"()")),a.options.async?e.appendChild(s):t.write(s.outerHTML)},G=1,V=function(e,n,a){var i=t.createElement("script");i.id="sas_script"+G++,i.type="text/javascript",i.text=n,a?e.appendChild(i):t.write(i.outerHTML)},q=function(e,n){switch(n.displayData.contentType){case"application/javascript":V(e,n.displayData.content,n.options.async);break;case"text/html":!function(e,n){var a=t.createElement("iframe");a.id="sas_i"+n.ad.formatId+(n.ad.instance?"_"+n.ad.instance:""),a.scrolling="no",a.frameBorder=0,a.width=n.displayData.width,a.height=n.displayData.height,a.style.margin=0,a.style.padding=0,a.style.width=n.displayData.width+"px",a.style.height=n.displayData.height+"px",e.appendChild(a),a.contentWindow.document.open("text/html","replace"),a.contentWindow.document.write(n.displayData.content),a.contentWindow.document.close()}(e,n)}},B=1,W=function(t){var n="__sas_gcbk_"+B++;return e[n]=function(){e[n]&&(e[n]=void 0,t())},n},H=function(e,a,i,r,o,s,c){var l=t.createElement("script");l.id="sas_script"+G++,l.type="text/javascript";var d="function"==typeof a?a():a;s&&(d=$(d,s)),c&&(d=Y(d)),l.src=d,l.async=i,i?(n.events.addLoadEvent(l,r),n.events.addEvent(l,"error",o)):(l.setAttribute("onload",W(r)+"()"),l.setAttribute("onError",W(o)+"()")),i?e.appendChild(l):t.write(l.outerHTML)},J=function(t,a,i){a=n.utils.extend({forceMasterFlag:!1},a),d=!!a.forceMasterFlag||d,l=a.resetTimestamp?o():l,i==n.callType.ONECALL&&Z();var r=X(),s=Oe()||(e.location.origin?e.location.origin+e.location.pathname:""),c=screen.height,u=screen.width;return function(e,t,a,i,r,o,s){var c={timestamp:a,networkId:r.networkId,getAdContent:r.getAdContent,siteId:e.siteId,pageId:e.pageId,pageName:e.pageName,master:t,noAdCallback:"sas.noad",pageUrl:i,screen:{height:o,width:s},uid:m||0,appName:y||"",bundleId:b||"",noCookie:r.noCookie,schain:e.schain||"",clickTrackingUrl:r.clickTrackingUrl,clickTrackingEncodingLevel:r.clickTrackingEncodingLevel,ads:[]},l=we();l&&(c.gdpr_consent=l);var d=be();d&&(c.addtl_consent=d);var u=Ie();u&&(c.us_privacy=u);var p=n.utils.getLocalStorageItemSafely("sas_gpp");p&&(c.gpp=p);var h=n.utils.getLocalStorageItemSafely("sas_gpp_sid");if(h)try{c.gpp_sid=JSON.parse(h)}catch(e){}var f=n.utils.getLocalStorageItemSafely("eqtv_cmpvalid");f&&(c.cmpvalid=Number(f));var g=function(e){if(e.length>1&&"function"==typeof Array.prototype.findIndex){var t=e.reverse();e=t.filter((function(e,n){return t.findIndex((function(t){return t.source===e.source}))===n}))}return e.length&&"object"==typeof e[0]&&e[0].source&&e[0].uids&&e[0].uids.length?e:null}(_);g?c.eids=g:n.events.history("setEidsCalled").length&&console.warn("The eids object is malformed, no eids will be sent in the adcall");var v=n.getSda();v&&v.length&&(c.sda=v);var w=n.getSdc();w&&w.length&&(c.sdc=w);C&&(c.partnerExtUids=C);e.content_source_id&&(c.content_source_id=e.content_source_id);for(var I=0;I<e.formats.length;I++){var S=e.formats[I],O=S.tagId?S.tagId:"sas_"+S.id,D=Q(O)||{};S.target&&n.overwriteTarget(S.target,O),c.ads.push({formatId:S.id,originalFormatId:S.originalFormatId,tagId:O,bidfloor:S.overriddenBidfloor,target:n.updateTarget(e.target,O),currency:S.currency,headerBidding:D,isLazy:!!_e(S.id),isAdRefresh:Se(S.id),gpid:n.getGpid(O)})}return c}(t,r,l,s,a,c,u)},z=function(e,t,a){return t.domain+"/"+(a==n.callType.ONECALL?t.networkId+"/call":"genericpost")},K=function(t,a,i){i=n.utils.extend({forceMasterFlag:!1},i),d=!!i.forceMasterFlag||d,l=i.resetTimestamp?o():l,t==n.callType.ONECALL&&Z();var r=X(),s=Oe()||(e.location.origin?e.location.origin+e.location.pathname:""),c=screen.height,u=screen.width;return function(){return n.utils.buildUrl(i.domain,t,a,r,l,i.async,i.networkId,m,y,b,s,C,Q(a.tagId),i.clickTrackingUrl,i.clickTrackingEncodingLevel,c,u)}},$=function(e,t){return null!=t&&(e+="&hb_cpm="+t.cpm+"&hb_bid="+t.bidder+"&hb_ccy="+t.currency+(t.dealId?"&hb_dealid="+t.dealId:"")),e},Y=function(e){try{var t=new URL(e)}catch(t){return e}var a=we();a&&t.searchParams.set("gdpr_consent",a);var i=be();i&&t.searchParams.set("addtl_consent",i);var r=Ie();r&&t.searchParams.set("us_privacy",r);var o=n.utils.getLocalStorageItemSafely("sas_gpp");o&&t.searchParams.set("gpp",o);var s=n.utils.getLocalStorageItemSafely("sas_gpp_sid");if(s)try{t.searchParams.set("gpp_sid",JSON.parse(s))}catch(e){}var c=n.utils.getLocalStorageItemSafely("eqtv_cmpvalid");c&&t.searchParams.set("cmpvalid",c);var l=n.updateTarget(t.searchParams.get("tgt"),t.searchParams.get("tag"));return t.searchParams.set("tgt",l),t.toString()},Q=function(e){if(O[e]){if(!isNaN(O[e].cpm)){var t=O[e];return O[e]=void 0,t}return O[e]=void 0,null}return null},X=function(){return Z()?"m":"s"},Z=function(){return!!d&&(d=!1,!0)},ee=function(e,n){var a,i,o=t.getElementById(e);if(!o&&(n||!r)){var s=t.currentScript||t.scripts[t.scripts.length-1];s.async||(s.parentNode.insertBefore((a=e,(i=t.createElement("div")).id=a,i),s),o=t.getElementById(e))}return o||console.warn("The tag element with id="+e+" wasn't found and couldn't be created as well!"),o},te=function(a,i){if(Object.prototype.hasOwnProperty.call(pe,a)||(pe[a]=new n.utils.Latch(["loaded","smartLazyLoading"+a]),ue.addListener((function(){for(var e in pe)pe[e].notify("loaded")}))),n.lazyLoading&&n.lazyLoading.formats&&(0===n.lazyLoading.formats.length||n.lazyLoading.formats.length&&-1!==n.lazyLoading.formats.indexOf(parseInt(i)))){var r=null;e.IntersectionObserver&&(r=new IntersectionObserver((function(e,t){e.forEach((function(e){if(e.intersectionRatio>0||e.isIntersecting){var n=e.target.id;t.unobserve(e.target),Object.prototype.hasOwnProperty.call(pe,n)&&pe[n].notify("smartLazyLoading"+n)}}))}),{rootMargin:n.lazyLoading.margin})),r&&r.observe(t.getElementById(a))}else pe[a].notify("smartLazyLoading"+a)},ne=[];n.events.addLoadEvent(t,(function(){r=!0,ne.push=function(e){e()};for(var e=0;e<ne.length;e++)ne[e]()}));var ae=!1;n.events.addMessageEvent(e,(function(){if(arguments&&!(arguments.length<1)){var e=arguments[0];if(e&&e.data&&"string"==typeof e.data&&!(e.data.indexOf("SMRT")<0)){var t=e.data.split(" ");if(!(t.length<2)){var a=t[2]||"";if("sas.noad"===t[1]||"NOAD"===t[1])try{n.noad(a)}catch(e){}}}}}));var ie,re,oe=function(e,t){if(!e)return!1;if(!t)return!1;var a,i=n._networks[t.networkId];return!!(i&&i.f&&i.f[e.formatId]&&(a=i.f[e.formatId],Math.random()<a))},se=function(e,t,n,a){var i=void 0===n?"info":n;if((!(a=void 0===a||a)||ce)&&e.length&&void 0!==console[i]){var r={txt:"%cequativ",css:"background: #fe5000; border-radius: 2px; color: #feffff; font-family: lato,sans-serif; padding:1px 3px;"};void 0!==t?console[i](r.txt,r.css,e,t):console[i](r.txt,r.css,e)}},ce=!1,le=function(){var t,n=(t="sas_debug","function"==typeof e.URLSearchParams?new URLSearchParams(e.location.search).get(t):null);null!==n&&(ce="true"===n)},de=!1,ue=new n.utils.Latch(["loaded"]),pe={};n.setup=function(t){if(de)throw new Error("sas.setup can only be called once");n.events.fire("setupCalled",t,"setupCalledId"),le(),de=!0,c=(t=t||{}).domain||s,f=t.async||f,sas_ajax=f,h=t.networkid||h,g=t.renderMode||g,v=t.inSequence||v,m=t.uid,C=n.utils.extend(C,t.partnerIds),b=t.bundleId,y=t.appName,e.sas_renderMode=g,n.configure({id:h}),f&&g!=n.renderMode.DEFAULT||ue.notify("loaded"),g==n.renderMode.ON_DEMAND&&(ie=setTimeout((function(){n.render()}),parseInt(t.renderModeTimeout)||5e3))},n.call=function(t,i,r){re=(new Date).getTime(),"string"!=typeof t&&(r=n.utils.extend({},i,{async:!0}),i=t,t="std",g==n.renderMode.DEFAULT&&ue.notify("loaded"),le()),r=n.utils.extend({},r),t==n.callType.ONECALL?i.isOnecallJSON=!!i.formats:t==n.callType.STD&&(i.usePostStandard=!!e.sas_usePostStandard),(i.isOnecallJSON||i.usePostStandard)&&(r.async=!0),(i=n.utils.extend({},i)).siteId=i.siteId||i.siteid,i.pageId=i.pageId||i.pageid,i.pageName=i.pageName||i.pagename,i.formatId=i.formatId||i.formatid,i.siteId||U(R);var o,s,l=(o=navigator.userAgent.indexOf("iPad")>0,s=""+navigator.userAgent.indexOf("iPhone")>0,o||s?o?"ipad":"iphone":navigator.userAgent.indexOf("Android")>0?"android":"");if(l.length>0&&(i.target&&i.target.length>0&&(i.target+=";"),i.target+="platform="+l),i.pageId||i.pageName||U(P),i.formatId||i.formats||U(x),(r=n.utils.extend({},E,{async:f,domain:c,networkId:h},r))&&r.networkId){var d=parseInt(r.networkId);if(d>0&&!n._networks[d])return n._pendingCommands[d]=n._pendingCommands[d]||[],void n._pendingCommands[d].push((function(){n.call(t,i,r)}))}if(!oe(i,r)){if(!i||!i.siteId||!i.pageId&&!i.pageName||!i.formatId&&!i.formats)throw new Error("Missing parameter(s)");var u;if(!i.formats){i.formats=[];var p=(""+i.formatId).replace(/\s/g,"").split(",");for(u=0;u<p.length;u++)i.formats.push({id:p[u]})}for(u=0;u<i.formats.length;u++){var m=i.formats[u];t==n.callType.STD||t==n.callType.IFRAME?(i.tagId=m.tagId=i.tagId||m.tagId||"sas_"+m.id,ee(i.tagId,r.async)):m.tagId=m.tagId||"sas_"+m.id;var y=w[m.tagId]||new a(m.tagId);y.onCall(t,n.utils.extend({},i,{tagId:m.tagId,formatId:m.id,originalFormatId:m.id}),r),y.reset(!!r.reset,t==n.callType.ONECALL),w[m.tagId]=y,n.lazyLoading&&f&&t==n.callType.STD&&te(m.tagId,m.id)}r.async&&g==n.renderMode.READY&&(ae||(ae=!0,ne.push((function(){n.render()})))),i.passback||I.push({callType:t,ad:n.utils.extend({},i),options:n.utils.extend({},r)}),r.async&&v?ue.addListener((function(){var e,a;e={callType:t,ad:i,options:r},a=function(){if(A.length>0){k=!0;var e=A.shift(),t=e.options.onLoad;e.options.onLoad=function(e){a(),t(e)},n.events.fire("call",{callType:e.callType,ad:e.ad,options:e.options},e.callType)}else k=!1},A.push(e),k||a()})):n.events.fire("call",{callType:t,ad:i,options:r},t)}},n.passback=function(e){var t=e.tagId?e.tagId:"sas_"+e.formatId;if(S[t]={current:-1,ad:e},e.noadUrl){var a=function(){(new Image).src=e.noadUrl,n.events.off("noad",a,t)};n.events.on("noad",a,t)}n.next(t)},n.next=function(e){var a=M(e),i=S[a.ad.tagId];if(a&&i){var r=t.getElementById(a.ad.tagId);if(r&&(r.innerHTML=""),i.current>=0&&((new Image).src=i.ad.chain[i.current].noadUrl),i.current++,i.current<i.ad.chain.length)if(i.ad.chain[i.current].countUrl&&((new Image).src=i.ad.chain[i.current].countUrl),i.ad.chain[i.current].script)V(r,i.ad.chain[i.current].script,a.options.async);else{var o=Q(r.id);H(r,i.ad.chain[i.current].scriptUrl,a.options.async,(function(){n.events.fire("load",{formatId:a.ad.formatId,instance:a.ad.instance,tagId:a.ad.tagId},a.ad.tagId)}),null,o,!1)}else n.events.fire("noad",{formatId:a.ad.formatId,instance:a.ad.instance,tagId:a.ad.tagId},a.ad.tagId);a.durationEvents.responseType="passback"}};var he={forceMasterFlag:!1,resetTimestamp:!0,target:void 0,autoRefresh:!1};n.refresh=function(e,t){if(ue.isComplete()){t=n.utils.extend({},he,e,t);var a=i;if(arguments.length<=1&&"string"!=typeof e&&isNaN(e))a=function(e){for(var a in w)w[a].reset(),T[w[a].ad.formatId]=t.autoRefresh;for(a=0;a<I.length;a++)I[a].options.async&&(e&&(I[a].ad.target=e),n.events.fire("call",{callType:I[a].callType,ad:n.utils.extend({},I[a].ad,{target:e}),options:n.utils.extend({},I[a].options,t)},I[a].callType))};else{var r=M(e);if(!r||!r.options.async)return;T[r.ad.formatId]=t.autoRefresh,r.reset(),a=function(e){null!=e&&(r.ad.target=e||r.ad.target),n.events.fire("call",{callType:n.callType.STD,ad:r.ad,options:r.options},n.callType.STD)}}d=!!t.forceMasterFlag||d,l=t.resetTimestamp?o():l,a(t.target)}},n.getTag=function(e){var n=M(e);return n?t.getElementById(n.ad.tagId):null},n.clean=function(e){var t;if(0==arguments.length)for(var n in w)(t=w[n]).clean();else(t=M(e))&&t.clean()},n.noad=function(e,t){var a=M(e);if(a){var i={formatId:a.ad.formatId,instance:a.ad.instance,tagId:a.ad.tagId};t&&(i.hbRenderUrls={hbRenderFailedUrl:t.HbRenderFailedUrl,hbRenderSuccessUrl:t.HbRenderSuccessUrl}),n.events.fire("noad",i,a.ad.tagId)}},n.render=function(a){var i,o;if(0==arguments.length){if(clearTimeout(ie),!ue.isComplete()&&(g==n.renderMode.READY&&r||g==n.renderMode.ON_DEMAND))for(o in ue.notify("loaded"),w)"pending"!=(i=w[o]).renderStatus||!i.options.async&&r||i.render()}else if(i=M(a))if(o=i.ad.tagId,ee(o,i.options.async),n.lazyLoading&&n.lazyLoading.formats&&(-1!==n.lazyLoading.formats.indexOf(Number(i.ad.originalFormatId))||0===n.lazyLoading.formats.length)){var s=null;e.IntersectionObserver&&(s=new IntersectionObserver((function(e,t){e.forEach((function(e){(e.intersectionRatio>0||e.isIntersecting)&&(t.unobserve(e.target),n.lazyLoading.event?n.events.on(n.lazyLoading.event,(function(){i.render()}),o):i.render(),n.events.fire("beforeFetch",i))}))}),{rootMargin:n.lazyLoading.margin})),s?s.observe(t.getElementById(o)):i.render()}else i.render()},n.enableLazyLoading=function(t){f||console.warn("If lazy loading is not working, please make sure you enable it for asynchronous calls");var a={};a.formats=t.formats||[];var i=void 0!==e.orientation||-1!==navigator.userAgent.indexOf("IEMobile")?t.mobileFetchRatio||.8:t.fetchRatio||.1;a.margin=Math.round(100*(isNaN(i)||i<0?.1:i))+"%",a.event=t.event||null,n.lazyLoading=a},n.setPartnerId=function(e,t){C[e]=t},n.appendHtml=function(e,n){var a=t.getElementById(e);if(Range&&Range.prototype.createContextualFragment)a.appendChild(t.createRange().createContextualFragment(n));else{var i=t.createElement("div");i.innerHTML=n;for(var r=i.childNodes,o=0;o<r.length;o++)a.appendChild(Ce(r[o]))}},n.configure=function(e){if(e&&e.id&&!(parseInt(e.id)<=0)&&!n._networks[e.id]&&(n._networks[e.id]=e,n._pendingCommands[e.id]))for(var t;t=n._pendingCommands[e.id].shift();)t()},n.setEids=function(e){se("Call sas.setEids with",e),"object"==typeof e&&(_=_.concat(e)),n.events.fire("setEidsCalled",{})},n.setHeaderBiddingWinner=function(e,a){null!==a&&"object"==typeof a?(O[e]={bidder:a.bidder,cpm:a.cpm,currency:a.currency,dealId:a.dealId},n.debugMode.addBanner({adSlot:t.getElementById(e),adInfo:{"HB bidder":a.bidder,"HB CPM":a.cpm,"HB currency":a.currency,"HB deal ID":a.dealId,"HB creative ID":a.creativeId}})):O[e]=null,n.events.fire("setHeaderBiddingWinner",{tagId:e,headBiddingData:n.utils.extend({},O[e])},e)},n.hbRenderSuccess=function(e){n.events.fire("hbRender",{success:!0},e)},n.hbRenderFailed=function(e){n.events.fire("hbRender",{success:!1},e)},n.setGdprConsentData=function(e){D=e},n.utils.buildUrl=function(e,t,a,i,r,o,s,c,l,d,p,h,f,g,v,m,y){var b={};if(null!=s&&(b.nwid=s),b.siteid=a.siteId,b.pgid=a.pageId,b.pgname=a.pageName,b.fmtid=a.formatId,t==n.callType.IFRAME&&(b.out="iframe"),o&&(b.async=1),t!=n.callType.ONECALL){var w=i.split("=");b.visit=w.length>1?w[1]:i}else b.oc=1;for(var I in b.tmstp=r,a.target=n.updateTarget(a.target,a.tagId),a.target&&(b.tgt=u(a.target)),t!=n.callType.ONECALL&&(b.orgfmtid=a.originalFormatId,b.tag=a.tagId),c&&(b.uid=c),l&&(b.appname=l),d&&(b.buid=d),m&&(b.sh=m),y&&(b.sw=y),p&&(b.pgDomain=u(p)),f&&t!=n.callType.ONECALL&&(b.hb_bid=f.bidder,b.hb_cpm=f.cpm,b.hb_ccy=f.currency,b.hb_dealid=f.dealId),g&&(b.clcturl=u(g)),v&&(b.clctenc=v),h)b[encodeURIComponent("extuid-"+I)]=encodeURIComponent(h[I]);var _=we();_&&(b.gdpr_consent=_);var S=be();S&&(b.addtl_consent=S);var C=n.utils.getLocalStorageItemSafely("sas_gpp");C&&(b.gpp=C);var O=n.utils.getLocalStorageItemSafely("sas_gpp_sid");O&&(b.gpp_sid=O.replace(/[[\]]/g,""));var D=n.utils.getLocalStorageItemSafely("eqtv_cmpvalid");D&&(b.cmpvalid=D);var T=Ie();T&&(b.us_privacy=T),b.noadcbk="sas.noad",a.schain&&(b.schain=a.schain),a.content_source_id&&(b.ctsrcid=a.content_source_id),b.isLazy=_e(a.formatId),b.isAdRefresh=Se(a.formatId);var k=[];for(var A in b)null!=b[A]&&k.push(A+"="+b[A]);return e+"/ac?"+k.join("&")};var fe=function(e,t,n){var a=e.indexOf("/");if(a<0)throw new Error("Invalid argument : sas_pageid");this.siteId=e.substring(0,a);var i=e.substring(a+1);0==i.indexOf("(")&&i.indexOf(")")==i.length-1&&(i=i.slice(1,i.length-1));var r=parseInt(i);r+""==i?this.pageId=r:this.pageName=i,this.formatId=t,this.target=n};e.sas_ads=n,e.sas_ajax=!1,e.sas_manager=null,e.sas_unrenderedFormats=[],e.sas_callAd=n.callAd,e.sas_callAds=n.callAds,n.callAd=n.refresh,n.callAds=function(){ue.isComplete()?n.refresh():n.render()},n.cleanAd=n.clean,n.cleanAds=n.clean;var ge=function(e){var n=t.createElement("div");n.innerHTML="_"+e;var a=n.childNodes[1];return{scriptType:a.tagName.toLowerCase(),scriptSrc:a.src,width:a.width||0,height:a.height||0}};e.sas_render=function(e){n.render(e)},e.SmartAdServerAjaxOneCall=function(e,t){n.render(t)},e.SmartAdServer_iframe=function(e,t,a,i,r){var o=new fe(e,t,a);o.width=i,o.height=r,n.call("iframe",o)},e.SmartAdServer=function(e,t,a){var i=new fe(e,t,a);n.call(n.callType.STD,i)},e.SmartAdServerAjax=e.SmartAdServer,e.sas_gcf=function(e){return t.getElementById("sas_"+e)},e.sas_appendToContainer=function(e,n){var a=t.getElementById("sas_"+e);if(a){if("string"==typeof n){var i=t.createElement("div");i.innerHTML=n,n=i}a.appendChild(n)}},e.sascc=function(e,t){(new Image).src=c+"/h/mcp?imgid="+e+"&pgid="+t+"&uid=[uid]&tmstp="+l+"&tgt=[targeting]"},e.sasmobile=function(e,t,a){var i=new fe(e,t,a);n.call(n.callType.STD,i)};var ve={};e.sas_addCleanListener=function(e,t){ve[e]=t},n.events.on("clean",(function(e){ve[e.tagId]&&ve[e.tagId](),ve[e.formatId]&&ve[e.formatId]()})),e.sas_cleanAds=n.clean,e.sas_cleanAd=n.clean,n.events.fire("Bootstrap",{time:"Start"}),n.cmd=n.cmd||[],n.cmd.push=function(e){e()};for(var me=0;me<n.cmd.length;me++)n.cmd[me]();n.events.fire("Bootstrap",{time:"End"})}function ye(t,a,i,r,o,s,c){var l=new XMLHttpRequest;l.onreadystatechange=function(){if(4==this.readyState){try{var e=s(this.responseText)}catch(e){se(e.toString()+"\nThis is most likely due to a failure from the backend response. Please contact your technical account manager.",void 0,"error",!1)}200==this.status&&e?i(e):r(e)}},l.withCredentials=!0;var d=!0;try{l.open("POST",t,!0)}catch(e){if(d=!1,n.utils.getIEVersion()<=9&&-2147024891==e.number){var u=new XDomainRequest;u.open("POST",t),u.ontimeout=function(){r()},u.onerror=function(){r()},u.onload=function(){try{var e=JSON.parse(this.responseText)}catch(e){se(e.toString()+"\nThis is most likely due to a failure from the backend response. Please contact your technical account manager.",void 0,"error",!1)}e?i(e):r()},u.send(JSON.stringify(a))}}d&&(l.setRequestHeader("content-type",c),!(!e.chrome||!e.chrome.webstore&&!e.chrome.runtime)&&l.setRequestHeader&&l.setRequestHeader("Save-Data","off"),l.send(JSON.stringify(a)))}function be(){if(n.utils.isAddtlConsentBlocked())return null;var e=n.utils.getLocalStorageItemSafely("sas_addtl_euconsent_v2");return e||null}function we(){if(D)return D;var e=n.utils.getLocalStorageItemSafely("sas_euconsent");return n.utils.getLocalStorageItemSafely("sas_euconsent_v2")||e}function Ie(){var e=n.utils.getLocalStorageItemSafely("sas_usprivacy");return e||null}function _e(e){return n.lazyLoading&&n.lazyLoading.formats&&(0===n.lazyLoading.formats.length||n.lazyLoading.formats.length&&-1!==n.lazyLoading.formats.indexOf(parseInt(e)))?1:0}function Se(e){return void 0!==T[e]?T[e]?2:1:0}function Ce(e){var n;if("script"==e.tagName.toLowerCase())n=t.createElement("script"),e.type&&(n.type=e.type),e.src&&(n.src=e.src),e.text&&(n.text=e.text);else{n=e.cloneNode(!1);for(var a=e.childNodes,i=0;i<a.length;i++)n.appendChild(Ce(a[i]))}return n}function Oe(){var t=e;try{for(;t.parent.document;){if(t.parent.context&&t.parent.context.canonicalUrl)return t.parent.context.canonicalUrl;if(t.parent.document===t.document)return t.location.origin?t.location.origin+t.location.pathname:"";t=t.parent}}catch(e){}if("function"==typeof URLSearchParams){var n=new URLSearchParams(t.location.search).get("pgDomain");if(n)return n}try{try{if(e.top.location.href)return e.top.location.origin?e.top.location.origin+e.top.location.pathname:""}catch(e){}var a=e.location.ancestorOrigins;return 1==a.length?t.document.referrer:a[a.length-1]}catch(e){return t.document.referrer}}function De(e){var n,a=t.createElement("a"),i=/(?:^\?|&)([^=&]+)=?([^&]*)(?=&|$)/g;a.href=e;for(var r,o=a.search,s=[];null!==(n=i.exec(o));)"extuid-"===(r={n:p(n[1]),v:p(n[2])}).n.substr(0,7)&&C[r.n.substr(7)]||s.push(r);for(var c in C)s.push({n:"extuid-"+c,v:C[c]});o="";for(var l=0;l<s.length;l++)r=s[l],o+=(0===l?"?":"&")+u(r.n),""!==r.v&&(o+="="+u(r.v));return a.search=o,a.href}}(window,document);/*_ts_*/;if(window.sas && sas.configure){sas.configure({id:3905});}/*_ts_*/